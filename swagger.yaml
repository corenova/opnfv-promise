swagger: '2.0'
info:
  title: OPNFV Promise
  description: |
    **Promise** is a resource reservation and management project to
    identify NFV related requirements and realize resource
    reservation for future usage by capacity management of resource
    pools regarding compute, network and storage.
  version: '1.0'
  contact:
    name: Peter Lee
    url: 'http://github.com/corenova/opnfv-promise'
    email: peter@corenova.com
  license:
    name: Apache-2.0
consumes:
  - application/json
produces:
  - application/json
paths:
  '/opnfv-infrastructure:controller':
    get:
      description: |-
        Information model describing a NFVI resource stack comprising of
        various resource elements across compute, network, and storage
      summary: View detail on controller
      deprecated: false
      responses:
        '200':
          description: Expected response of controller
          schema:
            description: |-
              Information model describing a NFVI resource stack comprising of
              various resource elements across compute, network, and storage
            type: object
            properties:
              compute:
                description: Contains compute related resources
                type: object
                properties:
                  host:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:compute-host'
                  server:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:virtual-server'
                  image:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:server-image'
                  flavor:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-flavor'
                  instantiate:
                    type: object
                    properties:
                      undefined:
                        type: object
                        properties:
                          server-id:
                            type: string
                            format: leafref
                  destroy:
                    type: object
              fabric:
                description: Contains networking related resources
                type: object
                properties:
                  network:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            subnet:
                              type: array
                              items:
                                allOf:
                                  - $ref: '#/definitions/nfvi:resource-element'
                                  - properties:
                                      nameservers:
                                        type: array
                                        items:
                                          type: string
                                          format: string
                                      dhcp:
                                        type: object
                                        properties:
                                          enabled:
                                            type: boolean
                                            format: boolean
                                          pool:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                start:
                                                  type: string
                                                  format: 'inet:ip-address'
                                                end:
                                                  type: string
                                                  format: 'inet:ip-address'
                                      port:
                                        type: array
                                        items:
                                          $ref: '#/definitions/nfvi:resource-element'
                  router:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-instance'
              storage:
                description: Contains storage related resources
                type: object
              policy:
                description: Contains NFVI policy configurations
                type: object
    put:
      summary: Update details on controller
      deprecated: false
      parameters:
        - name: controller
          in: body
          description: |-
            Information model describing a NFVI resource stack comprising of
            various resource elements across compute, network, and storage
          schema:
            description: |-
              Information model describing a NFVI resource stack comprising of
              various resource elements across compute, network, and storage
            type: object
            properties:
              compute:
                description: Contains compute related resources
                type: object
                properties:
                  host:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:compute-host'
                  server:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:virtual-server'
                  image:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:server-image'
                  flavor:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-flavor'
                  instantiate:
                    type: object
                    properties:
                      undefined:
                        type: object
                        properties:
                          server-id:
                            type: string
                            format: leafref
                  destroy:
                    type: object
              fabric:
                description: Contains networking related resources
                type: object
                properties:
                  network:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            subnet:
                              type: array
                              items:
                                allOf:
                                  - $ref: '#/definitions/nfvi:resource-element'
                                  - properties:
                                      nameservers:
                                        type: array
                                        items:
                                          type: string
                                          format: string
                                      dhcp:
                                        type: object
                                        properties:
                                          enabled:
                                            type: boolean
                                            format: boolean
                                          pool:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                start:
                                                  type: string
                                                  format: 'inet:ip-address'
                                                end:
                                                  type: string
                                                  format: 'inet:ip-address'
                                      port:
                                        type: array
                                        items:
                                          $ref: '#/definitions/nfvi:resource-element'
                  router:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-instance'
              storage:
                description: Contains storage related resources
                type: object
              policy:
                description: Contains NFVI policy configurations
                type: object
          required: false
      responses:
        '200':
          description: Expected response of controller
          schema:
            description: |-
              Information model describing a NFVI resource stack comprising of
              various resource elements across compute, network, and storage
            type: object
            properties:
              compute:
                description: Contains compute related resources
                type: object
                properties:
                  host:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:compute-host'
                  server:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:virtual-server'
                  image:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:server-image'
                  flavor:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-flavor'
                  instantiate:
                    type: object
                    properties:
                      undefined:
                        type: object
                        properties:
                          server-id:
                            type: string
                            format: leafref
                  destroy:
                    type: object
              fabric:
                description: Contains networking related resources
                type: object
                properties:
                  network:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            subnet:
                              type: array
                              items:
                                allOf:
                                  - $ref: '#/definitions/nfvi:resource-element'
                                  - properties:
                                      nameservers:
                                        type: array
                                        items:
                                          type: string
                                          format: string
                                      dhcp:
                                        type: object
                                        properties:
                                          enabled:
                                            type: boolean
                                            format: boolean
                                          pool:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                start:
                                                  type: string
                                                  format: 'inet:ip-address'
                                                end:
                                                  type: string
                                                  format: 'inet:ip-address'
                                      port:
                                        type: array
                                        items:
                                          $ref: '#/definitions/nfvi:resource-element'
                  router:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-instance'
              storage:
                description: Contains storage related resources
                type: object
              policy:
                description: Contains NFVI policy configurations
                type: object
    patch:
      summary: Merge details on controller
      deprecated: false
      parameters:
        - name: controller
          in: body
          description: |-
            Information model describing a NFVI resource stack comprising of
            various resource elements across compute, network, and storage
          schema:
            description: |-
              Information model describing a NFVI resource stack comprising of
              various resource elements across compute, network, and storage
            type: object
            properties:
              compute:
                description: Contains compute related resources
                type: object
                properties:
                  host:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:compute-host'
                  server:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:virtual-server'
                  image:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:server-image'
                  flavor:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-flavor'
                  instantiate:
                    type: object
                    properties:
                      undefined:
                        type: object
                        properties:
                          server-id:
                            type: string
                            format: leafref
                  destroy:
                    type: object
              fabric:
                description: Contains networking related resources
                type: object
                properties:
                  network:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            subnet:
                              type: array
                              items:
                                allOf:
                                  - $ref: '#/definitions/nfvi:resource-element'
                                  - properties:
                                      nameservers:
                                        type: array
                                        items:
                                          type: string
                                          format: string
                                      dhcp:
                                        type: object
                                        properties:
                                          enabled:
                                            type: boolean
                                            format: boolean
                                          pool:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                start:
                                                  type: string
                                                  format: 'inet:ip-address'
                                                end:
                                                  type: string
                                                  format: 'inet:ip-address'
                                      port:
                                        type: array
                                        items:
                                          $ref: '#/definitions/nfvi:resource-element'
                  router:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-instance'
              storage:
                description: Contains storage related resources
                type: object
              policy:
                description: Contains NFVI policy configurations
                type: object
          required: false
      responses:
        '200':
          description: Expected response of controller
          schema:
            description: |-
              Information model describing a NFVI resource stack comprising of
              various resource elements across compute, network, and storage
            type: object
            properties:
              compute:
                description: Contains compute related resources
                type: object
                properties:
                  host:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:compute-host'
                  server:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:virtual-server'
                  image:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:server-image'
                  flavor:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-flavor'
                  instantiate:
                    type: object
                    properties:
                      undefined:
                        type: object
                        properties:
                          server-id:
                            type: string
                            format: leafref
                  destroy:
                    type: object
              fabric:
                description: Contains networking related resources
                type: object
                properties:
                  network:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            subnet:
                              type: array
                              items:
                                allOf:
                                  - $ref: '#/definitions/nfvi:resource-element'
                                  - properties:
                                      nameservers:
                                        type: array
                                        items:
                                          type: string
                                          format: string
                                      dhcp:
                                        type: object
                                        properties:
                                          enabled:
                                            type: boolean
                                            format: boolean
                                          pool:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                start:
                                                  type: string
                                                  format: 'inet:ip-address'
                                                end:
                                                  type: string
                                                  format: 'inet:ip-address'
                                      port:
                                        type: array
                                        items:
                                          $ref: '#/definitions/nfvi:resource-element'
                  router:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-instance'
              storage:
                description: Contains storage related resources
                type: object
              policy:
                description: Contains NFVI policy configurations
                type: object
    delete:
      summary: Delete controller from opnfv-infrastructure
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/compute':
    get:
      description: Contains compute related resources
      summary: View detail on compute
      deprecated: false
      responses:
        '200':
          description: Expected response of compute
          schema:
            description: Contains compute related resources
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  $ref: '#/definitions/nfvi:virtual-server'
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              instantiate:
                type: object
                properties:
                  undefined:
                    type: object
                    properties:
                      server-id:
                        type: string
                        format: leafref
              destroy:
                type: object
    put:
      summary: Update details on compute
      deprecated: false
      parameters:
        - name: compute
          in: body
          description: Contains compute related resources
          schema:
            description: Contains compute related resources
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  $ref: '#/definitions/nfvi:virtual-server'
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              instantiate:
                type: object
                properties:
                  undefined:
                    type: object
                    properties:
                      server-id:
                        type: string
                        format: leafref
              destroy:
                type: object
          required: false
      responses:
        '200':
          description: Expected response of compute
          schema:
            description: Contains compute related resources
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  $ref: '#/definitions/nfvi:virtual-server'
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              instantiate:
                type: object
                properties:
                  undefined:
                    type: object
                    properties:
                      server-id:
                        type: string
                        format: leafref
              destroy:
                type: object
    patch:
      summary: Merge details on compute
      deprecated: false
      parameters:
        - name: compute
          in: body
          description: Contains compute related resources
          schema:
            description: Contains compute related resources
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  $ref: '#/definitions/nfvi:virtual-server'
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              instantiate:
                type: object
                properties:
                  undefined:
                    type: object
                    properties:
                      server-id:
                        type: string
                        format: leafref
              destroy:
                type: object
          required: false
      responses:
        '200':
          description: Expected response of compute
          schema:
            description: Contains compute related resources
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  $ref: '#/definitions/nfvi:virtual-server'
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              instantiate:
                type: object
                properties:
                  undefined:
                    type: object
                    properties:
                      server-id:
                        type: string
                        format: leafref
              destroy:
                type: object
    delete:
      summary: Delete compute from controller
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/compute/host':
    post:
      summary: Creates one or more new host in compute
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '200':
          description: Expected response for creating host(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
    get:
      summary: List all hosts from compute
      deprecated: false
      responses:
        '200':
          description: Expected response of hosts
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
    put:
      summary: Replace the entire host collection
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the host collection
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/compute/host/{host-id}':
    get:
      summary: View detail on host
      deprecated: false
      responses:
        '200':
          description: Expected response of host
          schema:
            $ref: '#/definitions/nfvi:compute-host'
    put:
      summary: Update details on host
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '200':
          description: Expected response of host
          schema:
            $ref: '#/definitions/nfvi:compute-host'
    patch:
      summary: Merge details on host
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '200':
          description: Expected response of host
          schema:
            $ref: '#/definitions/nfvi:compute-host'
    delete:
      summary: Delete host from compute
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/ram':
    get:
      summary: View detail on ram
      deprecated: false
      responses:
        '200':
          description: Expected response of ram
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
    put:
      summary: Update details on ram
      deprecated: false
      parameters:
        - name: ram
          in: body
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of ram
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
    patch:
      summary: Merge details on ram
      deprecated: false
      parameters:
        - name: ram
          in: body
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of ram
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
    delete:
      summary: Delete ram from compute-host
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/disk':
    get:
      summary: View detail on disk
      deprecated: false
      responses:
        '200':
          description: Expected response of disk
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
    put:
      summary: Update details on disk
      deprecated: false
      parameters:
        - name: disk
          in: body
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of disk
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
    patch:
      summary: Merge details on disk
      deprecated: false
      parameters:
        - name: disk
          in: body
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of disk
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint32
              used:
                type: string
                format: uint32
              free:
                type: string
                format: uint32
    delete:
      summary: Delete disk from compute-host
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/hypervisor':
    post:
      summary: Creates one or more new hypervisor in compute-host
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - required:
                    - id
                  properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: string
                          format: uint16
                        used:
                          type: string
                          format: uint16
                        free:
                          type: string
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
                    tags:
                      type: array
                      items:
                        type: string
                        format: string
                    members:
                      type: array
                      items:
                        description: Optionally share with other identified entities
                        type: string
                        format: instance-identifier
                    id:
                      type: string
                      format: unique-identifier
                    name:
                      type: string
                      format: string
                    description:
                      type: string
                      format: 'meta:description'
                    enabled:
                      default: 'true'
                      type: string
                      format: boolean
                    protected:
                      default: 'false'
                      type: string
                      format: boolean
                    owner:
                      type: string
                      format: instance-identifier
                    visibility:
                      description: >-
                        Specify visibility level available from the perspective
                        of 'owner'
                      default: user
                      type: string
                      format: enumeration
          required: false
      responses:
        '200':
          description: Expected response for creating hypervisor(s) in collection
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - required:
                    - id
                  properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: string
                          format: uint16
                        used:
                          type: string
                          format: uint16
                        free:
                          type: string
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
                    tags:
                      type: array
                      items:
                        type: string
                        format: string
                    members:
                      type: array
                      items:
                        description: Optionally share with other identified entities
                        type: string
                        format: instance-identifier
                    id:
                      type: string
                      format: unique-identifier
                    name:
                      type: string
                      format: string
                    description:
                      type: string
                      format: 'meta:description'
                    enabled:
                      default: 'true'
                      type: string
                      format: boolean
                    protected:
                      default: 'false'
                      type: string
                      format: boolean
                    owner:
                      type: string
                      format: instance-identifier
                    visibility:
                      description: >-
                        Specify visibility level available from the perspective
                        of 'owner'
                      default: user
                      type: string
                      format: enumeration
    get:
      summary: List all hypervisors from compute-host
      deprecated: false
      responses:
        '200':
          description: Expected response of hypervisors
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - required:
                    - id
                  properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: string
                          format: uint16
                        used:
                          type: string
                          format: uint16
                        free:
                          type: string
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
                    tags:
                      type: array
                      items:
                        type: string
                        format: string
                    members:
                      type: array
                      items:
                        description: Optionally share with other identified entities
                        type: string
                        format: instance-identifier
                    id:
                      type: string
                      format: unique-identifier
                    name:
                      type: string
                      format: string
                    description:
                      type: string
                      format: 'meta:description'
                    enabled:
                      default: 'true'
                      type: string
                      format: boolean
                    protected:
                      default: 'false'
                      type: string
                      format: boolean
                    owner:
                      type: string
                      format: instance-identifier
                    visibility:
                      description: >-
                        Specify visibility level available from the perspective
                        of 'owner'
                      default: user
                      type: string
                      format: enumeration
    put:
      summary: Replace the entire hypervisor collection
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - required:
                    - id
                  properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: string
                          format: uint16
                        used:
                          type: string
                          format: uint16
                        free:
                          type: string
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
                    tags:
                      type: array
                      items:
                        type: string
                        format: string
                    members:
                      type: array
                      items:
                        description: Optionally share with other identified entities
                        type: string
                        format: instance-identifier
                    id:
                      type: string
                      format: unique-identifier
                    name:
                      type: string
                      format: string
                    description:
                      type: string
                      format: 'meta:description'
                    enabled:
                      default: 'true'
                      type: string
                      format: boolean
                    protected:
                      default: 'false'
                      type: string
                      format: boolean
                    owner:
                      type: string
                      format: instance-identifier
                    visibility:
                      description: >-
                        Specify visibility level available from the perspective
                        of 'owner'
                      default: user
                      type: string
                      format: enumeration
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the hypervisor collection
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - required:
                    - id
                  properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: string
                          format: uint16
                        used:
                          type: string
                          format: uint16
                        free:
                          type: string
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
                    tags:
                      type: array
                      items:
                        type: string
                        format: string
                    members:
                      type: array
                      items:
                        description: Optionally share with other identified entities
                        type: string
                        format: instance-identifier
                    id:
                      type: string
                      format: unique-identifier
                    name:
                      type: string
                      format: string
                    description:
                      type: string
                      format: 'meta:description'
                    enabled:
                      default: 'true'
                      type: string
                      format: boolean
                    protected:
                      default: 'false'
                      type: string
                      format: boolean
                    owner:
                      type: string
                      format: instance-identifier
                    visibility:
                      description: >-
                        Specify visibility level available from the perspective
                        of 'owner'
                      default: user
                      type: string
                      format: enumeration
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
    parameters:
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/hypervisor/{id}':
    get:
      summary: View detail on hypervisor
      deprecated: false
      responses:
        '200':
          description: Expected response of hypervisor
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - required:
                  - id
                properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: string
                        format: uint16
                      used:
                        type: string
                        format: uint16
                      free:
                        type: string
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
                  tags:
                    type: array
                    items:
                      type: string
                      format: string
                  members:
                    type: array
                    items:
                      description: Optionally share with other identified entities
                      type: string
                      format: instance-identifier
                  id:
                    type: string
                    format: unique-identifier
                  name:
                    type: string
                    format: string
                  description:
                    type: string
                    format: 'meta:description'
                  enabled:
                    default: 'true'
                    type: string
                    format: boolean
                  protected:
                    default: 'false'
                    type: string
                    format: boolean
                  owner:
                    type: string
                    format: instance-identifier
                  visibility:
                    description: >-
                      Specify visibility level available from the perspective of
                      'owner'
                    default: user
                    type: string
                    format: enumeration
    put:
      summary: Update details on hypervisor
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - required:
                  - id
                properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: string
                        format: uint16
                      used:
                        type: string
                        format: uint16
                      free:
                        type: string
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
                  tags:
                    type: array
                    items:
                      type: string
                      format: string
                  members:
                    type: array
                    items:
                      description: Optionally share with other identified entities
                      type: string
                      format: instance-identifier
                  id:
                    type: string
                    format: unique-identifier
                  name:
                    type: string
                    format: string
                  description:
                    type: string
                    format: 'meta:description'
                  enabled:
                    default: 'true'
                    type: string
                    format: boolean
                  protected:
                    default: 'false'
                    type: string
                    format: boolean
                  owner:
                    type: string
                    format: instance-identifier
                  visibility:
                    description: >-
                      Specify visibility level available from the perspective of
                      'owner'
                    default: user
                    type: string
                    format: enumeration
          required: false
      responses:
        '200':
          description: Expected response of hypervisor
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - required:
                  - id
                properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: string
                        format: uint16
                      used:
                        type: string
                        format: uint16
                      free:
                        type: string
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
                  tags:
                    type: array
                    items:
                      type: string
                      format: string
                  members:
                    type: array
                    items:
                      description: Optionally share with other identified entities
                      type: string
                      format: instance-identifier
                  id:
                    type: string
                    format: unique-identifier
                  name:
                    type: string
                    format: string
                  description:
                    type: string
                    format: 'meta:description'
                  enabled:
                    default: 'true'
                    type: string
                    format: boolean
                  protected:
                    default: 'false'
                    type: string
                    format: boolean
                  owner:
                    type: string
                    format: instance-identifier
                  visibility:
                    description: >-
                      Specify visibility level available from the perspective of
                      'owner'
                    default: user
                    type: string
                    format: enumeration
    patch:
      summary: Merge details on hypervisor
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - required:
                  - id
                properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: string
                        format: uint16
                      used:
                        type: string
                        format: uint16
                      free:
                        type: string
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
                  tags:
                    type: array
                    items:
                      type: string
                      format: string
                  members:
                    type: array
                    items:
                      description: Optionally share with other identified entities
                      type: string
                      format: instance-identifier
                  id:
                    type: string
                    format: unique-identifier
                  name:
                    type: string
                    format: string
                  description:
                    type: string
                    format: 'meta:description'
                  enabled:
                    default: 'true'
                    type: string
                    format: boolean
                  protected:
                    default: 'false'
                    type: string
                    format: boolean
                  owner:
                    type: string
                    format: instance-identifier
                  visibility:
                    description: >-
                      Specify visibility level available from the perspective of
                      'owner'
                    default: user
                    type: string
                    format: enumeration
          required: false
      responses:
        '200':
          description: Expected response of hypervisor
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - required:
                  - id
                properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: string
                        format: uint16
                      used:
                        type: string
                        format: uint16
                      free:
                        type: string
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
                  tags:
                    type: array
                    items:
                      type: string
                      format: string
                  members:
                    type: array
                    items:
                      description: Optionally share with other identified entities
                      type: string
                      format: instance-identifier
                  id:
                    type: string
                    format: unique-identifier
                  name:
                    type: string
                    format: string
                  description:
                    type: string
                    format: 'meta:description'
                  enabled:
                    default: 'true'
                    type: string
                    format: boolean
                  protected:
                    default: 'false'
                    type: string
                    format: boolean
                  owner:
                    type: string
                    format: instance-identifier
                  visibility:
                    description: >-
                      Specify visibility level available from the perspective of
                      'owner'
                    default: user
                    type: string
                    format: enumeration
    delete:
      summary: Delete hypervisor from compute-host
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying hypervisor item
        type: string
        format: unique-identifier
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/hypervisor/{id}/vcpu':
    get:
      summary: View detail on vcpu
      deprecated: false
      responses:
        '200':
          description: Expected response of vcpu
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint16
              used:
                type: string
                format: uint16
              free:
                type: string
                format: uint16
    put:
      summary: Update details on vcpu
      deprecated: false
      parameters:
        - name: vcpu
          in: body
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint16
              used:
                type: string
                format: uint16
              free:
                type: string
                format: uint16
          required: false
      responses:
        '200':
          description: Expected response of vcpu
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint16
              used:
                type: string
                format: uint16
              free:
                type: string
                format: uint16
    patch:
      summary: Merge details on vcpu
      deprecated: false
      parameters:
        - name: vcpu
          in: body
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint16
              used:
                type: string
                format: uint16
              free:
                type: string
                format: uint16
          required: false
      responses:
        '200':
          description: Expected response of vcpu
          schema:
            type: object
            properties:
              total:
                type: string
                format: uint16
              used:
                type: string
                format: uint16
              free:
                type: string
                format: uint16
    delete:
      summary: Delete vcpu from hypervisor
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying hypervisor item
        type: string
        format: unique-identifier
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/server':
    post:
      summary: Creates one or more new server in compute
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:virtual-server'
          required: false
      responses:
        '200':
          description: Expected response for creating server(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:virtual-server'
    get:
      summary: List all servers from compute
      deprecated: false
      responses:
        '200':
          description: Expected response of servers
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:virtual-server'
    put:
      summary: Replace the entire server collection
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:virtual-server'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the server collection
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:virtual-server'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/compute/server/{id}':
    get:
      summary: View detail on server
      deprecated: false
      responses:
        '200':
          description: Expected response of server
          schema:
            $ref: '#/definitions/nfvi:virtual-server'
    put:
      summary: Update details on server
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            $ref: '#/definitions/nfvi:virtual-server'
          required: false
      responses:
        '200':
          description: Expected response of server
          schema:
            $ref: '#/definitions/nfvi:virtual-server'
    patch:
      summary: Merge details on server
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            $ref: '#/definitions/nfvi:virtual-server'
          required: false
      responses:
        '200':
          description: Expected response of server
          schema:
            $ref: '#/definitions/nfvi:virtual-server'
    delete:
      summary: Delete server from compute
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying server item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/image':
    post:
      summary: Creates one or more new image in compute
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '200':
          description: Expected response for creating image(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
    get:
      summary: List all images from compute
      deprecated: false
      responses:
        '200':
          description: Expected response of images
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
    put:
      summary: Replace the entire image collection
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the image collection
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/compute/image/{id}':
    get:
      summary: View detail on image
      deprecated: false
      responses:
        '200':
          description: Expected response of image
          schema:
            $ref: '#/definitions/nfvi:server-image'
    put:
      summary: Update details on image
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '200':
          description: Expected response of image
          schema:
            $ref: '#/definitions/nfvi:server-image'
    patch:
      summary: Merge details on image
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '200':
          description: Expected response of image
          schema:
            $ref: '#/definitions/nfvi:server-image'
    delete:
      summary: Delete image from compute
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying image item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/image/{id}/format':
    get:
      summary: View detail on format
      deprecated: false
      responses:
        '200':
          description: Expected response of format
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
              disk:
                default: raw
                type: string
                format: enumeration
    put:
      summary: Update details on format
      deprecated: false
      parameters:
        - name: format
          in: body
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
              disk:
                default: raw
                type: string
                format: enumeration
          required: false
      responses:
        '200':
          description: Expected response of format
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
              disk:
                default: raw
                type: string
                format: enumeration
    patch:
      summary: Merge details on format
      deprecated: false
      parameters:
        - name: format
          in: body
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
              disk:
                default: raw
                type: string
                format: enumeration
          required: false
      responses:
        '200':
          description: Expected response of format
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
              disk:
                default: raw
                type: string
                format: enumeration
    delete:
      summary: Delete format from server-image
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying image item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/image/{id}/constraint':
    get:
      summary: View detail on constraint
      deprecated: false
      responses:
        '200':
          description: Expected response of constraint
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: string
                format: uint32
              ram:
                default: '0'
                type: string
                format: uint32
              vcpu:
                default: '0'
                type: string
                format: uint16
    put:
      summary: Update details on constraint
      deprecated: false
      parameters:
        - name: constraint
          in: body
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: string
                format: uint32
              ram:
                default: '0'
                type: string
                format: uint32
              vcpu:
                default: '0'
                type: string
                format: uint16
          required: false
      responses:
        '200':
          description: Expected response of constraint
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: string
                format: uint32
              ram:
                default: '0'
                type: string
                format: uint32
              vcpu:
                default: '0'
                type: string
                format: uint16
    patch:
      summary: Merge details on constraint
      deprecated: false
      parameters:
        - name: constraint
          in: body
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: string
                format: uint32
              ram:
                default: '0'
                type: string
                format: uint32
              vcpu:
                default: '0'
                type: string
                format: uint16
          required: false
      responses:
        '200':
          description: Expected response of constraint
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: string
                format: uint32
              ram:
                default: '0'
                type: string
                format: uint32
              vcpu:
                default: '0'
                type: string
                format: uint16
    delete:
      summary: Delete constraint from server-image
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying image item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/flavor':
    post:
      summary: Creates one or more new flavor in compute
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '200':
          description: Expected response for creating flavor(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
    get:
      summary: List all flavors from compute
      deprecated: false
      responses:
        '200':
          description: Expected response of flavors
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
    put:
      summary: Replace the entire flavor collection
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the flavor collection
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/compute/flavor/{id}':
    get:
      summary: View detail on flavor
      deprecated: false
      responses:
        '200':
          description: Expected response of flavor
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
    put:
      summary: Update details on flavor
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '200':
          description: Expected response of flavor
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
    patch:
      summary: Merge details on flavor
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '200':
          description: Expected response of flavor
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
    delete:
      summary: Delete flavor from compute
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying flavor item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/instantiate':
    post:
      summary: Invokes instantiate in compute
      deprecated: false
      parameters:
        - name: 'instantiate:input'
          in: body
          schema:
            type: object
            required:
              - name
              - flavor
              - image
            properties:
              name:
                type: string
                format: string
              flavor:
                type: string
                format: leafref
              image:
                type: string
                format: leafref
              networks:
                type: array
                items:
                  description: 'optional, will assign default network if not provided'
                  type: string
                  format: leafref
          required: false
      responses:
        '200':
          description: Expected response of instantiate
          schema:
            type: object
            properties:
              server-id:
                type: string
                format: leafref
  '/opnfv-infrastructure:controller/compute/destroy':
    post:
      summary: Invokes destroy in compute
      deprecated: false
      parameters:
        - name: 'destroy:input'
          in: body
          schema: {}
          required: false
      responses:
        '200':
          description: Expected response of destroy
          schema: {}
  '/opnfv-infrastructure:controller/fabric':
    get:
      description: Contains networking related resources
      summary: View detail on fabric
      deprecated: false
      responses:
        '200':
          description: Expected response of fabric
          schema:
            description: Contains networking related resources
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
    put:
      summary: Update details on fabric
      deprecated: false
      parameters:
        - name: fabric
          in: body
          description: Contains networking related resources
          schema:
            description: Contains networking related resources
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '200':
          description: Expected response of fabric
          schema:
            description: Contains networking related resources
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
    patch:
      summary: Merge details on fabric
      deprecated: false
      parameters:
        - name: fabric
          in: body
          description: Contains networking related resources
          schema:
            description: Contains networking related resources
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '200':
          description: Expected response of fabric
          schema:
            description: Contains networking related resources
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
    delete:
      summary: Delete fabric from controller
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/fabric/network':
    post:
      summary: Creates one or more new network in fabric
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response for creating network(s) in collection
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
    get:
      summary: List all networks from fabric
      deprecated: false
      responses:
        '200':
          description: Expected response of networks
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Replace the entire network collection
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the network collection
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/fabric/network/{network-id}':
    get:
      summary: View detail on network
      deprecated: false
      responses:
        '200':
          description: Expected response of network
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Update details on network
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of network
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
    patch:
      summary: Merge details on network
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of network
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
    delete:
      summary: Delete network from fabric
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet':
    post:
      summary: Creates one or more new subnet in network
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response for creating subnet(s) in collection
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
    get:
      summary: List all subnets from network
      deprecated: false
      responses:
        '200':
          description: Expected response of subnets
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Replace the entire subnet collection
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the subnet collection
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
    parameters:
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}':
    get:
      summary: View detail on subnet
      deprecated: false
      responses:
        '200':
          description: Expected response of subnet
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Update details on subnet
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of subnet
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
    patch:
      summary: Merge details on subnet
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of subnet
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
    delete:
      summary: Delete subnet from network
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/dhcp':
    get:
      summary: View detail on dhcp
      deprecated: false
      responses:
        '200':
          description: Expected response of dhcp
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
    put:
      summary: Update details on dhcp
      deprecated: false
      parameters:
        - name: dhcp
          in: body
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response of dhcp
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
    patch:
      summary: Merge details on dhcp
      deprecated: false
      parameters:
        - name: dhcp
          in: body
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response of dhcp
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
    delete:
      summary: Delete dhcp from subnet
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/dhcp/pool':
    post:
      summary: Creates one or more new pool in dhcp
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response for creating pool(s) in collection
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
    get:
      summary: List all pools from dhcp
      deprecated: false
      responses:
        '200':
          description: Expected response of pools
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
    put:
      summary: Replace the entire pool collection
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the pool collection
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
    parameters:
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/dhcp/pool/{index}':
    get:
      summary: View detail on pool
      deprecated: false
      responses:
        '200':
          description: Expected response of pool
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
    put:
      summary: Update details on pool
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response of pool
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
    patch:
      summary: Merge details on pool
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response of pool
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
    delete:
      summary: Delete pool from dhcp
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: index
        in: path
        required: true
        type: integer
        format: int64
        description: An index key identifying pool item (may change over time)
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/port':
    post:
      summary: Creates one or more new port in subnet
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response for creating port(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
    get:
      summary: List all ports from subnet
      deprecated: false
      responses:
        '200':
          description: Expected response of ports
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Replace the entire port collection
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the port collection
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
    parameters:
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/port/{id}':
    get:
      summary: View detail on port
      deprecated: false
      responses:
        '200':
          description: Expected response of port
          schema:
            $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Update details on port
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of port
          schema:
            $ref: '#/definitions/nfvi:resource-element'
    patch:
      summary: Merge details on port
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of port
          schema:
            $ref: '#/definitions/nfvi:resource-element'
    delete:
      summary: Delete port from subnet
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying port item
        type: string
        format: unique-identifier
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/router':
    post:
      summary: Creates one or more new router in fabric
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '200':
          description: Expected response for creating router(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
    get:
      summary: List all routers from fabric
      deprecated: false
      responses:
        '200':
          description: Expected response of routers
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
    put:
      summary: Replace the entire router collection
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the router collection
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/fabric/router/{id}':
    get:
      summary: View detail on router
      deprecated: false
      responses:
        '200':
          description: Expected response of router
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
    put:
      summary: Update details on router
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '200':
          description: Expected response of router
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
    patch:
      summary: Merge details on router
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '200':
          description: Expected response of router
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
    delete:
      summary: Delete router from fabric
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying router item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/storage':
    get:
      description: Contains storage related resources
      summary: View detail on storage
      deprecated: false
      responses:
        '200':
          description: Expected response of storage
          schema:
            description: Contains storage related resources
            type: object
    put:
      summary: Update details on storage
      deprecated: false
      parameters:
        - name: storage
          in: body
          description: Contains storage related resources
          schema:
            description: Contains storage related resources
            type: object
          required: false
      responses:
        '200':
          description: Expected response of storage
          schema:
            description: Contains storage related resources
            type: object
    patch:
      summary: Merge details on storage
      deprecated: false
      parameters:
        - name: storage
          in: body
          description: Contains storage related resources
          schema:
            description: Contains storage related resources
            type: object
          required: false
      responses:
        '200':
          description: Expected response of storage
          schema:
            description: Contains storage related resources
            type: object
    delete:
      summary: Delete storage from controller
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/storage/opnfv-promise:capacity':
    get:
      summary: 'View detail on opnfv-promise:capacity'
      deprecated: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:capacity'
          schema:
            allOf:
              - $ref: '#/definitions/promise:storage-capacity'
              - properties:
                  gigabytes:
                    default: '0'
                    type: string
                    format: int32
                  snapshots:
                    default: '0'
                    type: string
                    format: int16
                  volumes:
                    default: '0'
                    type: string
                    format: int16
    put:
      summary: 'Update details on opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'opnfv-promise:capacity'
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/promise:storage-capacity'
              - properties:
                  gigabytes:
                    default: '0'
                    type: string
                    format: int32
                  snapshots:
                    default: '0'
                    type: string
                    format: int16
                  volumes:
                    default: '0'
                    type: string
                    format: int16
          required: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:capacity'
          schema:
            allOf:
              - $ref: '#/definitions/promise:storage-capacity'
              - properties:
                  gigabytes:
                    default: '0'
                    type: string
                    format: int32
                  snapshots:
                    default: '0'
                    type: string
                    format: int16
                  volumes:
                    default: '0'
                    type: string
                    format: int16
    patch:
      summary: 'Merge details on opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'opnfv-promise:capacity'
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/promise:storage-capacity'
              - properties:
                  gigabytes:
                    default: '0'
                    type: string
                    format: int32
                  snapshots:
                    default: '0'
                    type: string
                    format: int16
                  volumes:
                    default: '0'
                    type: string
                    format: int16
          required: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:capacity'
          schema:
            allOf:
              - $ref: '#/definitions/promise:storage-capacity'
              - properties:
                  gigabytes:
                    default: '0'
                    type: string
                    format: int32
                  snapshots:
                    default: '0'
                    type: string
                    format: int16
                  volumes:
                    default: '0'
                    type: string
                    format: int16
    delete:
      summary: 'Delete opnfv-promise:capacity from /nfvi:controller/nfvi:storage'
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/policy':
    get:
      description: Contains NFVI policy configurations
      summary: View detail on policy
      deprecated: false
      responses:
        '200':
          description: Expected response of policy
          schema:
            description: Contains NFVI policy configurations
            type: object
    put:
      summary: Update details on policy
      deprecated: false
      parameters:
        - name: policy
          in: body
          description: Contains NFVI policy configurations
          schema:
            description: Contains NFVI policy configurations
            type: object
          required: false
      responses:
        '200':
          description: Expected response of policy
          schema:
            description: Contains NFVI policy configurations
            type: object
    patch:
      summary: Merge details on policy
      deprecated: false
      parameters:
        - name: policy
          in: body
          description: Contains NFVI policy configurations
          schema:
            description: Contains NFVI policy configurations
            type: object
          required: false
      responses:
        '200':
          description: Expected response of policy
          schema:
            description: Contains NFVI policy configurations
            type: object
    delete:
      summary: Delete policy from controller
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/policy/opnfv-promise:reservation':
    get:
      summary: 'View detail on opnfv-promise:reservation'
      deprecated: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:reservation'
          schema:
            type: object
            properties:
              max-future-start-range:
                description: >-
                  Enforce reservation request 'start' time is within allowed
                  range from now
                type: string
                format: uint16
              max-future-end-range:
                description: >-
                  Enforce reservation request 'end' time is within allowed range
                  from now
                type: string
                format: uint16
              max-duration:
                description: >-
                  Enforce reservation duration (end-start) does not exceed
                  specified threshold
                default: '8760'
                type: string
                format: uint16
              expiry:
                description: >-
                  Duration in minutes from start when unallocated reserved
                  resources
                    will be released back into the pool
                type: string
                format: uint32
    put:
      summary: 'Update details on opnfv-promise:reservation'
      deprecated: false
      parameters:
        - name: 'opnfv-promise:reservation'
          in: body
          schema:
            type: object
            properties:
              max-future-start-range:
                description: >-
                  Enforce reservation request 'start' time is within allowed
                  range from now
                type: string
                format: uint16
              max-future-end-range:
                description: >-
                  Enforce reservation request 'end' time is within allowed range
                  from now
                type: string
                format: uint16
              max-duration:
                description: >-
                  Enforce reservation duration (end-start) does not exceed
                  specified threshold
                default: '8760'
                type: string
                format: uint16
              expiry:
                description: >-
                  Duration in minutes from start when unallocated reserved
                  resources
                    will be released back into the pool
                type: string
                format: uint32
          required: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:reservation'
          schema:
            type: object
            properties:
              max-future-start-range:
                description: >-
                  Enforce reservation request 'start' time is within allowed
                  range from now
                type: string
                format: uint16
              max-future-end-range:
                description: >-
                  Enforce reservation request 'end' time is within allowed range
                  from now
                type: string
                format: uint16
              max-duration:
                description: >-
                  Enforce reservation duration (end-start) does not exceed
                  specified threshold
                default: '8760'
                type: string
                format: uint16
              expiry:
                description: >-
                  Duration in minutes from start when unallocated reserved
                  resources
                    will be released back into the pool
                type: string
                format: uint32
    patch:
      summary: 'Merge details on opnfv-promise:reservation'
      deprecated: false
      parameters:
        - name: 'opnfv-promise:reservation'
          in: body
          schema:
            type: object
            properties:
              max-future-start-range:
                description: >-
                  Enforce reservation request 'start' time is within allowed
                  range from now
                type: string
                format: uint16
              max-future-end-range:
                description: >-
                  Enforce reservation request 'end' time is within allowed range
                  from now
                type: string
                format: uint16
              max-duration:
                description: >-
                  Enforce reservation duration (end-start) does not exceed
                  specified threshold
                default: '8760'
                type: string
                format: uint16
              expiry:
                description: >-
                  Duration in minutes from start when unallocated reserved
                  resources
                    will be released back into the pool
                type: string
                format: uint32
          required: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:reservation'
          schema:
            type: object
            properties:
              max-future-start-range:
                description: >-
                  Enforce reservation request 'start' time is within allowed
                  range from now
                type: string
                format: uint16
              max-future-end-range:
                description: >-
                  Enforce reservation request 'end' time is within allowed range
                  from now
                type: string
                format: uint16
              max-duration:
                description: >-
                  Enforce reservation duration (end-start) does not exceed
                  specified threshold
                default: '8760'
                type: string
                format: uint16
              expiry:
                description: >-
                  Duration in minutes from start when unallocated reserved
                  resources
                    will be released back into the pool
                type: string
                format: uint32
    delete:
      summary: 'Delete opnfv-promise:reservation from /nfvi:controller/nfvi:policy'
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
definitions:
  'nfvi:compute-host':
    allOf:
      - $ref: '#/definitions/nfvi:resource-element'
      - properties:
          type:
            type: string
            format: string
          version:
            type: string
            format: string
          cpu:
            type: integer
            format: byte
          workload:
            default: '0'
            type: integer
            format: byte
          uptime:
            type: string
            format: string
          ram:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
          disk:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
          hypervisor:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: integer
                          format: uint16
                        used:
                          type: integer
                          format: uint16
                        free:
                          type: integer
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
  'nfvi:resource-element':
    description: A resource element represents access managed data entity.
    type: object
    required:
      - id
    properties:
      id:
        type: string
        format: unique-identifier
      name:
        type: string
        format: string
      description:
        type: string
        format: 'meta:description'
      enabled:
        default: 'true'
        type: boolean
        format: boolean
      protected:
        default: 'false'
        type: boolean
        format: boolean
      owner:
        type: string
        format: instance-identifier
      visibility:
        description: Specify visibility level available from the perspective of 'owner'
        default: user
        type: string
        format: enumeration
        enum:
          - public
          - domain
          - project
          - group
          - user
      tags:
        type: array
        items:
          type: string
          format: string
      members:
        type: array
        items:
          description: Optionally share with other identified entities
          type: string
          format: instance-identifier
  'nfvi:virtual-server':
    allOf:
      - $ref: '#/definitions/nfvi:resource-instance'
      - properties:
          flavor:
            type: string
            format: leafref
          image:
            type: string
            format: leafref
          host:
            type: string
            format: leafref
          metadata:
            type: string
            format: binary
  'nfvi:resource-instance':
    allOf:
      - $ref: '#/definitions/nfvi:resource-element'
      - properties:
          status:
            type: string
            format: enumeration
            enum:
              - active
              - inactive
              - pending
          progress:
            default: '0'
            type: integer
            format: byte
  'nfvi:server-image':
    allOf:
      - $ref: '#/definitions/nfvi:resource-element'
      - required:
          - checksum
          - size
          - content
        properties:
          checksum:
            type: string
            format: string
          size:
            type: integer
            format: uint32
          content:
            description: >-
              should be a 'private' property so only direct access retrieves
              content
            type: string
            format: union
          format:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - bare
                  - ovf
              disk:
                default: raw
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - vhd
                  - vmdk
                  - raw
                  - qcow2
                  - vdi
                  - iso
          constraint:
            type: object
            properties:
              disk:
                default: '0'
                type: integer
                format: uint32
              ram:
                default: '0'
                type: integer
                format: uint32
              vcpu:
                default: '0'
                type: integer
                format: uint16
  'nfvi:resource-flavor':
    allOf:
      - $ref: '#/definitions/nfvi:resource-element'
      - properties:
          disk:
            default: '0'
            type: integer
            format: uint32
          ram:
            default: '0'
            type: integer
            format: uint32
          vcpus:
            default: '0'
            type: integer
            format: uint16
  'promise:storage-capacity':
    type: object
    properties:
      gigabytes:
        default: '0'
        type: integer
        format: int32
      snapshots:
        default: '0'
        type: integer
        format: int16
      volumes:
        default: '0'
        type: integer
        format: int16
