swagger: '2.0'
info:
  title: OPNFV Promise
  description: |
    **Promise** is a resource reservation and management project to
    identify NFV related requirements and realize resource
    reservation for future usage by capacity management of resource
    pools regarding compute, network and storage.
  version: '1.0'
  contact:
    name: Peter Lee
    url: 'http://github.com/corenova/opnfv-promise'
    email: peter@corenova.com
  license:
    name: Apache-2.0
consumes:
  - application/json
produces:
  - application/json
paths:
  '/opnfv-promise:admin':
    get:
      description: Administrative configuration for managing the Promise module
      summary: View detail on admin
      deprecated: false
      responses:
        '200':
          description: Expected response of admin
          schema:
            type: object
            properties:
              policy:
                type: object
                properties:
                  max-future-start-range:
                    description: Enforce reservation request 'start' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-future-end-range:
                    description: Enforce reservation request 'end' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-duration:
                    description: Enforce reservation duration (end-start) does not exceed specified threshold
                    default: '8760'
                    type: integer
                    format: uint16
                  expiry:
                    description: |-
                      Duration in minutes from start when unallocated reserved resources
                      will be released back into the pool
                    type: integer
                    format: uint32
    put:
      summary: Update details on admin
      deprecated: false
      parameters:
        - name: admin
          in: body
          description: Administrative configuration for managing the Promise module
          schema:
            type: object
            properties:
              policy:
                type: object
                properties:
                  max-future-start-range:
                    description: Enforce reservation request 'start' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-future-end-range:
                    description: Enforce reservation request 'end' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-duration:
                    description: Enforce reservation duration (end-start) does not exceed specified threshold
                    default: '8760'
                    type: integer
                    format: uint16
                  expiry:
                    description: |-
                      Duration in minutes from start when unallocated reserved resources
                      will be released back into the pool
                    type: integer
                    format: uint32
          required: false
      responses:
        '200':
          description: Expected response of admin
          schema:
            type: object
            properties:
              policy:
                type: object
                properties:
                  max-future-start-range:
                    description: Enforce reservation request 'start' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-future-end-range:
                    description: Enforce reservation request 'end' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-duration:
                    description: Enforce reservation duration (end-start) does not exceed specified threshold
                    default: '8760'
                    type: integer
                    format: uint16
                  expiry:
                    description: |-
                      Duration in minutes from start when unallocated reserved resources
                      will be released back into the pool
                    type: integer
                    format: uint32
    patch:
      summary: Merge details on admin
      deprecated: false
      parameters:
        - name: admin
          in: body
          description: Administrative configuration for managing the Promise module
          schema:
            type: object
            properties:
              policy:
                type: object
                properties:
                  max-future-start-range:
                    description: Enforce reservation request 'start' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-future-end-range:
                    description: Enforce reservation request 'end' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-duration:
                    description: Enforce reservation duration (end-start) does not exceed specified threshold
                    default: '8760'
                    type: integer
                    format: uint16
                  expiry:
                    description: |-
                      Duration in minutes from start when unallocated reserved resources
                      will be released back into the pool
                    type: integer
                    format: uint32
          required: false
      responses:
        '200':
          description: Expected response of admin
          schema:
            type: object
            properties:
              policy:
                type: object
                properties:
                  max-future-start-range:
                    description: Enforce reservation request 'start' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-future-end-range:
                    description: Enforce reservation request 'end' time is within allowed range from now
                    type: integer
                    format: uint16
                  max-duration:
                    description: Enforce reservation duration (end-start) does not exceed specified threshold
                    default: '8760'
                    type: integer
                    format: uint16
                  expiry:
                    description: |-
                      Duration in minutes from start when unallocated reserved resources
                      will be released back into the pool
                    type: integer
                    format: uint32
    delete:
      summary: Delete admin from opnfv-promise
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-promise:admin/policy':
    get:
      summary: View detail on policy
      deprecated: false
      responses:
        '200':
          description: Expected response of policy
          schema:
            type: object
            properties:
              max-future-start-range:
                description: Enforce reservation request 'start' time is within allowed range from now
                type: integer
                format: uint16
              max-future-end-range:
                description: Enforce reservation request 'end' time is within allowed range from now
                type: integer
                format: uint16
              max-duration:
                description: Enforce reservation duration (end-start) does not exceed specified threshold
                default: '8760'
                type: integer
                format: uint16
              expiry:
                description: |-
                  Duration in minutes from start when unallocated reserved resources
                  will be released back into the pool
                type: integer
                format: uint32
    put:
      summary: Update details on policy
      deprecated: false
      parameters:
        - name: policy
          in: body
          schema:
            type: object
            properties:
              max-future-start-range:
                description: Enforce reservation request 'start' time is within allowed range from now
                type: integer
                format: uint16
              max-future-end-range:
                description: Enforce reservation request 'end' time is within allowed range from now
                type: integer
                format: uint16
              max-duration:
                description: Enforce reservation duration (end-start) does not exceed specified threshold
                default: '8760'
                type: integer
                format: uint16
              expiry:
                description: |-
                  Duration in minutes from start when unallocated reserved resources
                  will be released back into the pool
                type: integer
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of policy
          schema:
            type: object
            properties:
              max-future-start-range:
                description: Enforce reservation request 'start' time is within allowed range from now
                type: integer
                format: uint16
              max-future-end-range:
                description: Enforce reservation request 'end' time is within allowed range from now
                type: integer
                format: uint16
              max-duration:
                description: Enforce reservation duration (end-start) does not exceed specified threshold
                default: '8760'
                type: integer
                format: uint16
              expiry:
                description: |-
                  Duration in minutes from start when unallocated reserved resources
                  will be released back into the pool
                type: integer
                format: uint32
    patch:
      summary: Merge details on policy
      deprecated: false
      parameters:
        - name: policy
          in: body
          schema:
            type: object
            properties:
              max-future-start-range:
                description: Enforce reservation request 'start' time is within allowed range from now
                type: integer
                format: uint16
              max-future-end-range:
                description: Enforce reservation request 'end' time is within allowed range from now
                type: integer
                format: uint16
              max-duration:
                description: Enforce reservation duration (end-start) does not exceed specified threshold
                default: '8760'
                type: integer
                format: uint16
              expiry:
                description: |-
                  Duration in minutes from start when unallocated reserved resources
                  will be released back into the pool
                type: integer
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of policy
          schema:
            type: object
            properties:
              max-future-start-range:
                description: Enforce reservation request 'start' time is within allowed range from now
                type: integer
                format: uint16
              max-future-end-range:
                description: Enforce reservation request 'end' time is within allowed range from now
                type: integer
                format: uint16
              max-duration:
                description: Enforce reservation duration (end-start) does not exceed specified threshold
                default: '8760'
                type: integer
                format: uint16
              expiry:
                description: |-
                  Duration in minutes from start when unallocated reserved resources
                  will be released back into the pool
                type: integer
                format: uint32
    delete:
      summary: Delete policy from admin
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller':
    get:
      description: |-
        Information model describing a NFVI resource stack comprising of
        various resource elements across compute, network, and storage
      summary: View detail on controller
      deprecated: false
      responses:
        '200':
          description: Expected response of controller
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  compute:
                    description: Contains compute related resources
                    type: object
                    properties:
                      host:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:compute-host'
                      server:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:virtual-server'
                            - properties:
                                'opnfv-promise:reservation-id':
                                  description: Reference to an existing reservation identifier (if specified during instantiate)
                                  type: string
                                  format: leafref
                                'opnfv-promise:priority':
                                  description: Reflects current priority level of the allocation according to classification rules
                                  default: normal
                                  type: string
                                  format: enumeration
                                  enum:
                                    - high
                                    - normal
                                    - low
                      image:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:server-image'
                      flavor:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-flavor'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:compute-capacity'
                  fabric:
                    description: Contains networking related resources
                    type: object
                    properties:
                      network:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:resource-element'
                            - properties:
                                subnet:
                                  type: array
                                  items:
                                    allOf:
                                      - $ref: '#/definitions/nfvi:resource-element'
                                      - properties:
                                          nameservers:
                                            type: array
                                            items:
                                              type: string
                                              format: string
                                          dhcp:
                                            type: object
                                            properties:
                                              enabled:
                                                type: boolean
                                                format: boolean
                                              pool:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    start:
                                                      type: string
                                                      format: 'inet:ip-address'
                                                    end:
                                                      type: string
                                                      format: 'inet:ip-address'
                                          port:
                                            type: array
                                            items:
                                              $ref: '#/definitions/nfvi:resource-element'
                      router:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-instance'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:network-capacity'
                  storage:
                    description: Contains storage related resources
                    type: object
                    properties:
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:storage-capacity'
                  'opnfv-promise:capacity':
                    description: Describes current state info about capacity utilization info
                    allOf:
                      - $ref: '#/definitions/promise:reservations-list'
                      - properties:
                          total:
                            $ref: '#/definitions/promise:resource-capacity'
                          reserved:
                            $ref: '#/definitions/promise:resource-capacity'
                          usage:
                            $ref: '#/definitions/promise:resource-capacity'
                          available:
                            $ref: '#/definitions/promise:resource-capacity'
                          elements:
                            type: array
                            items:
                              description: aggregate reference to all resource-element identifiers
                              type: string
                              format: instance-identifier
    put:
      summary: Update details on controller
      deprecated: false
      parameters:
        - name: controller
          in: body
          description: |-
            Information model describing a NFVI resource stack comprising of
            various resource elements across compute, network, and storage
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  compute:
                    description: Contains compute related resources
                    type: object
                    properties:
                      host:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:compute-host'
                      server:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:virtual-server'
                            - properties:
                                'opnfv-promise:reservation-id':
                                  description: Reference to an existing reservation identifier (if specified during instantiate)
                                  type: string
                                  format: leafref
                                'opnfv-promise:priority':
                                  description: Reflects current priority level of the allocation according to classification rules
                                  default: normal
                                  type: string
                                  format: enumeration
                                  enum:
                                    - high
                                    - normal
                                    - low
                      image:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:server-image'
                      flavor:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-flavor'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:compute-capacity'
                  fabric:
                    description: Contains networking related resources
                    type: object
                    properties:
                      network:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:resource-element'
                            - properties:
                                subnet:
                                  type: array
                                  items:
                                    allOf:
                                      - $ref: '#/definitions/nfvi:resource-element'
                                      - properties:
                                          nameservers:
                                            type: array
                                            items:
                                              type: string
                                              format: string
                                          dhcp:
                                            type: object
                                            properties:
                                              enabled:
                                                type: boolean
                                                format: boolean
                                              pool:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    start:
                                                      type: string
                                                      format: 'inet:ip-address'
                                                    end:
                                                      type: string
                                                      format: 'inet:ip-address'
                                          port:
                                            type: array
                                            items:
                                              $ref: '#/definitions/nfvi:resource-element'
                      router:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-instance'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:network-capacity'
                  storage:
                    description: Contains storage related resources
                    type: object
                    properties:
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:storage-capacity'
                  'opnfv-promise:capacity':
                    description: Describes current state info about capacity utilization info
                    allOf:
                      - $ref: '#/definitions/promise:reservations-list'
                      - properties:
                          total:
                            $ref: '#/definitions/promise:resource-capacity'
                          reserved:
                            $ref: '#/definitions/promise:resource-capacity'
                          usage:
                            $ref: '#/definitions/promise:resource-capacity'
                          available:
                            $ref: '#/definitions/promise:resource-capacity'
                          elements:
                            type: array
                            items:
                              description: aggregate reference to all resource-element identifiers
                              type: string
                              format: instance-identifier
          required: false
      responses:
        '200':
          description: Expected response of controller
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  compute:
                    description: Contains compute related resources
                    type: object
                    properties:
                      host:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:compute-host'
                      server:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:virtual-server'
                            - properties:
                                'opnfv-promise:reservation-id':
                                  description: Reference to an existing reservation identifier (if specified during instantiate)
                                  type: string
                                  format: leafref
                                'opnfv-promise:priority':
                                  description: Reflects current priority level of the allocation according to classification rules
                                  default: normal
                                  type: string
                                  format: enumeration
                                  enum:
                                    - high
                                    - normal
                                    - low
                      image:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:server-image'
                      flavor:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-flavor'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:compute-capacity'
                  fabric:
                    description: Contains networking related resources
                    type: object
                    properties:
                      network:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:resource-element'
                            - properties:
                                subnet:
                                  type: array
                                  items:
                                    allOf:
                                      - $ref: '#/definitions/nfvi:resource-element'
                                      - properties:
                                          nameservers:
                                            type: array
                                            items:
                                              type: string
                                              format: string
                                          dhcp:
                                            type: object
                                            properties:
                                              enabled:
                                                type: boolean
                                                format: boolean
                                              pool:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    start:
                                                      type: string
                                                      format: 'inet:ip-address'
                                                    end:
                                                      type: string
                                                      format: 'inet:ip-address'
                                          port:
                                            type: array
                                            items:
                                              $ref: '#/definitions/nfvi:resource-element'
                      router:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-instance'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:network-capacity'
                  storage:
                    description: Contains storage related resources
                    type: object
                    properties:
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:storage-capacity'
                  'opnfv-promise:capacity':
                    description: Describes current state info about capacity utilization info
                    allOf:
                      - $ref: '#/definitions/promise:reservations-list'
                      - properties:
                          total:
                            $ref: '#/definitions/promise:resource-capacity'
                          reserved:
                            $ref: '#/definitions/promise:resource-capacity'
                          usage:
                            $ref: '#/definitions/promise:resource-capacity'
                          available:
                            $ref: '#/definitions/promise:resource-capacity'
                          elements:
                            type: array
                            items:
                              description: aggregate reference to all resource-element identifiers
                              type: string
                              format: instance-identifier
    patch:
      summary: Merge details on controller
      deprecated: false
      parameters:
        - name: controller
          in: body
          description: |-
            Information model describing a NFVI resource stack comprising of
            various resource elements across compute, network, and storage
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  compute:
                    description: Contains compute related resources
                    type: object
                    properties:
                      host:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:compute-host'
                      server:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:virtual-server'
                            - properties:
                                'opnfv-promise:reservation-id':
                                  description: Reference to an existing reservation identifier (if specified during instantiate)
                                  type: string
                                  format: leafref
                                'opnfv-promise:priority':
                                  description: Reflects current priority level of the allocation according to classification rules
                                  default: normal
                                  type: string
                                  format: enumeration
                                  enum:
                                    - high
                                    - normal
                                    - low
                      image:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:server-image'
                      flavor:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-flavor'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:compute-capacity'
                  fabric:
                    description: Contains networking related resources
                    type: object
                    properties:
                      network:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:resource-element'
                            - properties:
                                subnet:
                                  type: array
                                  items:
                                    allOf:
                                      - $ref: '#/definitions/nfvi:resource-element'
                                      - properties:
                                          nameservers:
                                            type: array
                                            items:
                                              type: string
                                              format: string
                                          dhcp:
                                            type: object
                                            properties:
                                              enabled:
                                                type: boolean
                                                format: boolean
                                              pool:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    start:
                                                      type: string
                                                      format: 'inet:ip-address'
                                                    end:
                                                      type: string
                                                      format: 'inet:ip-address'
                                          port:
                                            type: array
                                            items:
                                              $ref: '#/definitions/nfvi:resource-element'
                      router:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-instance'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:network-capacity'
                  storage:
                    description: Contains storage related resources
                    type: object
                    properties:
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:storage-capacity'
                  'opnfv-promise:capacity':
                    description: Describes current state info about capacity utilization info
                    allOf:
                      - $ref: '#/definitions/promise:reservations-list'
                      - properties:
                          total:
                            $ref: '#/definitions/promise:resource-capacity'
                          reserved:
                            $ref: '#/definitions/promise:resource-capacity'
                          usage:
                            $ref: '#/definitions/promise:resource-capacity'
                          available:
                            $ref: '#/definitions/promise:resource-capacity'
                          elements:
                            type: array
                            items:
                              description: aggregate reference to all resource-element identifiers
                              type: string
                              format: instance-identifier
          required: false
      responses:
        '200':
          description: Expected response of controller
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  compute:
                    description: Contains compute related resources
                    type: object
                    properties:
                      host:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:compute-host'
                      server:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:virtual-server'
                            - properties:
                                'opnfv-promise:reservation-id':
                                  description: Reference to an existing reservation identifier (if specified during instantiate)
                                  type: string
                                  format: leafref
                                'opnfv-promise:priority':
                                  description: Reflects current priority level of the allocation according to classification rules
                                  default: normal
                                  type: string
                                  format: enumeration
                                  enum:
                                    - high
                                    - normal
                                    - low
                      image:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:server-image'
                      flavor:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-flavor'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:compute-capacity'
                  fabric:
                    description: Contains networking related resources
                    type: object
                    properties:
                      network:
                        type: array
                        items:
                          allOf:
                            - $ref: '#/definitions/nfvi:resource-element'
                            - properties:
                                subnet:
                                  type: array
                                  items:
                                    allOf:
                                      - $ref: '#/definitions/nfvi:resource-element'
                                      - properties:
                                          nameservers:
                                            type: array
                                            items:
                                              type: string
                                              format: string
                                          dhcp:
                                            type: object
                                            properties:
                                              enabled:
                                                type: boolean
                                                format: boolean
                                              pool:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    start:
                                                      type: string
                                                      format: 'inet:ip-address'
                                                    end:
                                                      type: string
                                                      format: 'inet:ip-address'
                                          port:
                                            type: array
                                            items:
                                              $ref: '#/definitions/nfvi:resource-element'
                      router:
                        type: array
                        items:
                          $ref: '#/definitions/nfvi:resource-instance'
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:network-capacity'
                  storage:
                    description: Contains storage related resources
                    type: object
                    properties:
                      'opnfv-promise:capacity':
                        $ref: '#/definitions/promise:storage-capacity'
                  'opnfv-promise:capacity':
                    description: Describes current state info about capacity utilization info
                    allOf:
                      - $ref: '#/definitions/promise:reservations-list'
                      - properties:
                          total:
                            $ref: '#/definitions/promise:resource-capacity'
                          reserved:
                            $ref: '#/definitions/promise:resource-capacity'
                          usage:
                            $ref: '#/definitions/promise:resource-capacity'
                          available:
                            $ref: '#/definitions/promise:resource-capacity'
                          elements:
                            type: array
                            items:
                              description: aggregate reference to all resource-element identifiers
                              type: string
                              format: instance-identifier
    delete:
      summary: Delete controller from opnfv-infrastructure
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/compute':
    get:
      description: Contains compute related resources
      summary: View detail on compute
      deprecated: false
      responses:
        '200':
          description: Expected response of compute
          schema:
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:virtual-server'
                    - properties:
                        'opnfv-promise:reservation-id':
                          description: Reference to an existing reservation identifier (if specified during instantiate)
                          type: string
                          format: leafref
                        'opnfv-promise:priority':
                          description: Reflects current priority level of the allocation according to classification rules
                          default: normal
                          type: string
                          format: enumeration
                          enum:
                            - high
                            - normal
                            - low
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:compute-capacity'
    put:
      summary: Update details on compute
      deprecated: false
      parameters:
        - name: compute
          in: body
          description: Contains compute related resources
          schema:
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:virtual-server'
                    - properties:
                        'opnfv-promise:reservation-id':
                          description: Reference to an existing reservation identifier (if specified during instantiate)
                          type: string
                          format: leafref
                        'opnfv-promise:priority':
                          description: Reflects current priority level of the allocation according to classification rules
                          default: normal
                          type: string
                          format: enumeration
                          enum:
                            - high
                            - normal
                            - low
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:compute-capacity'
          required: false
      responses:
        '200':
          description: Expected response of compute
          schema:
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:virtual-server'
                    - properties:
                        'opnfv-promise:reservation-id':
                          description: Reference to an existing reservation identifier (if specified during instantiate)
                          type: string
                          format: leafref
                        'opnfv-promise:priority':
                          description: Reflects current priority level of the allocation according to classification rules
                          default: normal
                          type: string
                          format: enumeration
                          enum:
                            - high
                            - normal
                            - low
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:compute-capacity'
    patch:
      summary: Merge details on compute
      deprecated: false
      parameters:
        - name: compute
          in: body
          description: Contains compute related resources
          schema:
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:virtual-server'
                    - properties:
                        'opnfv-promise:reservation-id':
                          description: Reference to an existing reservation identifier (if specified during instantiate)
                          type: string
                          format: leafref
                        'opnfv-promise:priority':
                          description: Reflects current priority level of the allocation according to classification rules
                          default: normal
                          type: string
                          format: enumeration
                          enum:
                            - high
                            - normal
                            - low
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:compute-capacity'
          required: false
      responses:
        '200':
          description: Expected response of compute
          schema:
            type: object
            properties:
              host:
                type: array
                items:
                  $ref: '#/definitions/nfvi:compute-host'
              server:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:virtual-server'
                    - properties:
                        'opnfv-promise:reservation-id':
                          description: Reference to an existing reservation identifier (if specified during instantiate)
                          type: string
                          format: leafref
                        'opnfv-promise:priority':
                          description: Reflects current priority level of the allocation according to classification rules
                          default: normal
                          type: string
                          format: enumeration
                          enum:
                            - high
                            - normal
                            - low
              image:
                type: array
                items:
                  $ref: '#/definitions/nfvi:server-image'
              flavor:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-flavor'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:compute-capacity'
    delete:
      summary: Delete compute from controller
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/compute/host':
    post:
      summary: Creates one or more new host in compute
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '200':
          description: Expected response for creating host(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
    get:
      summary: List all hosts from compute
      deprecated: false
      responses:
        '200':
          description: Expected response of hosts
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
    put:
      summary: Replace the entire host collection
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the host collection
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/compute/host/{host-id}':
    get:
      summary: View detail on host
      deprecated: false
      responses:
        '200':
          description: Expected response of host
          schema:
            $ref: '#/definitions/nfvi:compute-host'
    put:
      summary: Update details on host
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '200':
          description: Expected response of host
          schema:
            $ref: '#/definitions/nfvi:compute-host'
    patch:
      summary: Merge details on host
      deprecated: false
      parameters:
        - name: host
          in: body
          schema:
            $ref: '#/definitions/nfvi:compute-host'
          required: false
      responses:
        '200':
          description: Expected response of host
          schema:
            $ref: '#/definitions/nfvi:compute-host'
    delete:
      summary: Delete host from compute
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/ram':
    get:
      summary: View detail on ram
      deprecated: false
      responses:
        '200':
          description: Expected response of ram
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
    put:
      summary: Update details on ram
      deprecated: false
      parameters:
        - name: ram
          in: body
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of ram
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
    patch:
      summary: Merge details on ram
      deprecated: false
      parameters:
        - name: ram
          in: body
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of ram
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
    delete:
      summary: Delete ram from compute-host
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/disk':
    get:
      summary: View detail on disk
      deprecated: false
      responses:
        '200':
          description: Expected response of disk
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
    put:
      summary: Update details on disk
      deprecated: false
      parameters:
        - name: disk
          in: body
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of disk
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
    patch:
      summary: Merge details on disk
      deprecated: false
      parameters:
        - name: disk
          in: body
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
          required: false
      responses:
        '200':
          description: Expected response of disk
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
    delete:
      summary: Delete disk from compute-host
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/hypervisor':
    post:
      summary: Creates one or more new hypervisor in compute-host
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: integer
                          format: uint16
                        used:
                          type: integer
                          format: uint16
                        free:
                          type: integer
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
          required: false
      responses:
        '200':
          description: Expected response for creating hypervisor(s) in collection
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: integer
                          format: uint16
                        used:
                          type: integer
                          format: uint16
                        free:
                          type: integer
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
    get:
      summary: List all hypervisors from compute-host
      deprecated: false
      responses:
        '200':
          description: Expected response of hypervisors
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: integer
                          format: uint16
                        used:
                          type: integer
                          format: uint16
                        free:
                          type: integer
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
    put:
      summary: Replace the entire hypervisor collection
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: integer
                          format: uint16
                        used:
                          type: integer
                          format: uint16
                        free:
                          type: integer
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the hypervisor collection
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: integer
                          format: uint16
                        used:
                          type: integer
                          format: uint16
                        free:
                          type: integer
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
    parameters:
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/hypervisor/{id}':
    get:
      summary: View detail on hypervisor
      deprecated: false
      responses:
        '200':
          description: Expected response of hypervisor
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: integer
                        format: uint16
                      used:
                        type: integer
                        format: uint16
                      free:
                        type: integer
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
    put:
      summary: Update details on hypervisor
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: integer
                        format: uint16
                      used:
                        type: integer
                        format: uint16
                      free:
                        type: integer
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
          required: false
      responses:
        '200':
          description: Expected response of hypervisor
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: integer
                        format: uint16
                      used:
                        type: integer
                        format: uint16
                      free:
                        type: integer
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
    patch:
      summary: Merge details on hypervisor
      deprecated: false
      parameters:
        - name: hypervisor
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: integer
                        format: uint16
                      used:
                        type: integer
                        format: uint16
                      free:
                        type: integer
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
          required: false
      responses:
        '200':
          description: Expected response of hypervisor
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  vcpu:
                    type: object
                    properties:
                      total:
                        type: integer
                        format: uint16
                      used:
                        type: integer
                        format: uint16
                      free:
                        type: integer
                        format: uint16
                  servers:
                    type: array
                    items:
                      type: string
                      format: leafref
    delete:
      summary: Delete hypervisor from compute-host
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying hypervisor item
        type: string
        format: unique-identifier
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/host/{host-id}/hypervisor/{id}/vcpu':
    get:
      summary: View detail on vcpu
      deprecated: false
      responses:
        '200':
          description: Expected response of vcpu
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint16
              used:
                type: integer
                format: uint16
              free:
                type: integer
                format: uint16
    put:
      summary: Update details on vcpu
      deprecated: false
      parameters:
        - name: vcpu
          in: body
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint16
              used:
                type: integer
                format: uint16
              free:
                type: integer
                format: uint16
          required: false
      responses:
        '200':
          description: Expected response of vcpu
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint16
              used:
                type: integer
                format: uint16
              free:
                type: integer
                format: uint16
    patch:
      summary: Merge details on vcpu
      deprecated: false
      parameters:
        - name: vcpu
          in: body
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint16
              used:
                type: integer
                format: uint16
              free:
                type: integer
                format: uint16
          required: false
      responses:
        '200':
          description: Expected response of vcpu
          schema:
            type: object
            properties:
              total:
                type: integer
                format: uint16
              used:
                type: integer
                format: uint16
              free:
                type: integer
                format: uint16
    delete:
      summary: Delete vcpu from hypervisor
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying hypervisor item
        type: string
        format: unique-identifier
      - name: host-id
        in: path
        required: true
        description: A key uniquely identifying host item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/server':
    post:
      summary: Creates one or more new server in compute
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:virtual-server'
                - properties:
                    'opnfv-promise:reservation-id':
                      description: Reference to an existing reservation identifier (if specified during instantiate)
                      type: string
                      format: leafref
                    'opnfv-promise:priority':
                      description: Reflects current priority level of the allocation according to classification rules
                      default: normal
                      type: string
                      format: enumeration
                      enum:
                        - high
                        - normal
                        - low
          required: false
      responses:
        '200':
          description: Expected response for creating server(s) in collection
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:virtual-server'
                - properties:
                    'opnfv-promise:reservation-id':
                      description: Reference to an existing reservation identifier (if specified during instantiate)
                      type: string
                      format: leafref
                    'opnfv-promise:priority':
                      description: Reflects current priority level of the allocation according to classification rules
                      default: normal
                      type: string
                      format: enumeration
                      enum:
                        - high
                        - normal
                        - low
    get:
      summary: List all servers from compute
      deprecated: false
      responses:
        '200':
          description: Expected response of servers
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:virtual-server'
                - properties:
                    'opnfv-promise:reservation-id':
                      description: Reference to an existing reservation identifier (if specified during instantiate)
                      type: string
                      format: leafref
                    'opnfv-promise:priority':
                      description: Reflects current priority level of the allocation according to classification rules
                      default: normal
                      type: string
                      format: enumeration
                      enum:
                        - high
                        - normal
                        - low
    put:
      summary: Replace the entire server collection
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:virtual-server'
                - properties:
                    'opnfv-promise:reservation-id':
                      description: Reference to an existing reservation identifier (if specified during instantiate)
                      type: string
                      format: leafref
                    'opnfv-promise:priority':
                      description: Reflects current priority level of the allocation according to classification rules
                      default: normal
                      type: string
                      format: enumeration
                      enum:
                        - high
                        - normal
                        - low
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the server collection
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:virtual-server'
                - properties:
                    'opnfv-promise:reservation-id':
                      description: Reference to an existing reservation identifier (if specified during instantiate)
                      type: string
                      format: leafref
                    'opnfv-promise:priority':
                      description: Reflects current priority level of the allocation according to classification rules
                      default: normal
                      type: string
                      format: enumeration
                      enum:
                        - high
                        - normal
                        - low
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/compute/server/{id}':
    get:
      summary: View detail on server
      deprecated: false
      responses:
        '200':
          description: Expected response of server
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:virtual-server'
              - properties:
                  'opnfv-promise:reservation-id':
                    description: Reference to an existing reservation identifier (if specified during instantiate)
                    type: string
                    format: leafref
                  'opnfv-promise:priority':
                    description: Reflects current priority level of the allocation according to classification rules
                    default: normal
                    type: string
                    format: enumeration
                    enum:
                      - high
                      - normal
                      - low
    put:
      summary: Update details on server
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:virtual-server'
              - properties:
                  'opnfv-promise:reservation-id':
                    description: Reference to an existing reservation identifier (if specified during instantiate)
                    type: string
                    format: leafref
                  'opnfv-promise:priority':
                    description: Reflects current priority level of the allocation according to classification rules
                    default: normal
                    type: string
                    format: enumeration
                    enum:
                      - high
                      - normal
                      - low
          required: false
      responses:
        '200':
          description: Expected response of server
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:virtual-server'
              - properties:
                  'opnfv-promise:reservation-id':
                    description: Reference to an existing reservation identifier (if specified during instantiate)
                    type: string
                    format: leafref
                  'opnfv-promise:priority':
                    description: Reflects current priority level of the allocation according to classification rules
                    default: normal
                    type: string
                    format: enumeration
                    enum:
                      - high
                      - normal
                      - low
    patch:
      summary: Merge details on server
      deprecated: false
      parameters:
        - name: server
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:virtual-server'
              - properties:
                  'opnfv-promise:reservation-id':
                    description: Reference to an existing reservation identifier (if specified during instantiate)
                    type: string
                    format: leafref
                  'opnfv-promise:priority':
                    description: Reflects current priority level of the allocation according to classification rules
                    default: normal
                    type: string
                    format: enumeration
                    enum:
                      - high
                      - normal
                      - low
          required: false
      responses:
        '200':
          description: Expected response of server
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:virtual-server'
              - properties:
                  'opnfv-promise:reservation-id':
                    description: Reference to an existing reservation identifier (if specified during instantiate)
                    type: string
                    format: leafref
                  'opnfv-promise:priority':
                    description: Reflects current priority level of the allocation according to classification rules
                    default: normal
                    type: string
                    format: enumeration
                    enum:
                      - high
                      - normal
                      - low
    delete:
      summary: Delete server from compute
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying server item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/image':
    post:
      summary: Creates one or more new image in compute
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '200':
          description: Expected response for creating image(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
    get:
      summary: List all images from compute
      deprecated: false
      responses:
        '200':
          description: Expected response of images
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
    put:
      summary: Replace the entire image collection
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the image collection
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/compute/image/{id}':
    get:
      summary: View detail on image
      deprecated: false
      responses:
        '200':
          description: Expected response of image
          schema:
            $ref: '#/definitions/nfvi:server-image'
    put:
      summary: Update details on image
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '200':
          description: Expected response of image
          schema:
            $ref: '#/definitions/nfvi:server-image'
    patch:
      summary: Merge details on image
      deprecated: false
      parameters:
        - name: image
          in: body
          schema:
            $ref: '#/definitions/nfvi:server-image'
          required: false
      responses:
        '200':
          description: Expected response of image
          schema:
            $ref: '#/definitions/nfvi:server-image'
    delete:
      summary: Delete image from compute
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying image item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/image/{id}/format':
    get:
      summary: View detail on format
      deprecated: false
      responses:
        '200':
          description: Expected response of format
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - bare
                  - ovf
              disk:
                default: raw
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - vhd
                  - vmdk
                  - raw
                  - qcow2
                  - vdi
                  - iso
    put:
      summary: Update details on format
      deprecated: false
      parameters:
        - name: format
          in: body
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - bare
                  - ovf
              disk:
                default: raw
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - vhd
                  - vmdk
                  - raw
                  - qcow2
                  - vdi
                  - iso
          required: false
      responses:
        '200':
          description: Expected response of format
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - bare
                  - ovf
              disk:
                default: raw
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - vhd
                  - vmdk
                  - raw
                  - qcow2
                  - vdi
                  - iso
    patch:
      summary: Merge details on format
      deprecated: false
      parameters:
        - name: format
          in: body
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - bare
                  - ovf
              disk:
                default: raw
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - vhd
                  - vmdk
                  - raw
                  - qcow2
                  - vdi
                  - iso
          required: false
      responses:
        '200':
          description: Expected response of format
          schema:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - bare
                  - ovf
              disk:
                default: raw
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - vhd
                  - vmdk
                  - raw
                  - qcow2
                  - vdi
                  - iso
    delete:
      summary: Delete format from server-image
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying image item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/image/{id}/constraint':
    get:
      summary: View detail on constraint
      deprecated: false
      responses:
        '200':
          description: Expected response of constraint
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: integer
                format: uint32
              ram:
                default: '0'
                type: integer
                format: uint32
              vcpu:
                default: '0'
                type: integer
                format: uint16
    put:
      summary: Update details on constraint
      deprecated: false
      parameters:
        - name: constraint
          in: body
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: integer
                format: uint32
              ram:
                default: '0'
                type: integer
                format: uint32
              vcpu:
                default: '0'
                type: integer
                format: uint16
          required: false
      responses:
        '200':
          description: Expected response of constraint
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: integer
                format: uint32
              ram:
                default: '0'
                type: integer
                format: uint32
              vcpu:
                default: '0'
                type: integer
                format: uint16
    patch:
      summary: Merge details on constraint
      deprecated: false
      parameters:
        - name: constraint
          in: body
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: integer
                format: uint32
              ram:
                default: '0'
                type: integer
                format: uint32
              vcpu:
                default: '0'
                type: integer
                format: uint16
          required: false
      responses:
        '200':
          description: Expected response of constraint
          schema:
            type: object
            properties:
              disk:
                default: '0'
                type: integer
                format: uint32
              ram:
                default: '0'
                type: integer
                format: uint32
              vcpu:
                default: '0'
                type: integer
                format: uint16
    delete:
      summary: Delete constraint from server-image
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying image item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/flavor':
    post:
      summary: Creates one or more new flavor in compute
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '200':
          description: Expected response for creating flavor(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
    get:
      summary: List all flavors from compute
      deprecated: false
      responses:
        '200':
          description: Expected response of flavors
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
    put:
      summary: Replace the entire flavor collection
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the flavor collection
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/compute/flavor/{id}':
    get:
      summary: View detail on flavor
      deprecated: false
      responses:
        '200':
          description: Expected response of flavor
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
    put:
      summary: Update details on flavor
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '200':
          description: Expected response of flavor
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
    patch:
      summary: Merge details on flavor
      deprecated: false
      parameters:
        - name: flavor
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
          required: false
      responses:
        '200':
          description: Expected response of flavor
          schema:
            $ref: '#/definitions/nfvi:resource-flavor'
    delete:
      summary: Delete flavor from compute
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying flavor item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/compute/instantiate':
    post:
      summary: Invokes instantiate in compute
      deprecated: false
      parameters:
        - name: 'instantiate:input'
          in: body
          schema:
            type: object
            required:
              - name
              - flavor
              - image
            properties:
              name:
                type: string
                format: string
              flavor:
                type: string
                format: leafref
              image:
                type: string
                format: leafref
              'opnfv-promise:reservation-id':
                description: An optional reference to an existing reservation
                type: string
                format: leafref
              networks:
                type: array
                items:
                  description: 'optional, will assign default network if not provided'
                  type: string
                  format: leafref
          required: false
      responses:
        '200':
          description: Expected response of instantiate
          schema:
            type: object
            properties:
              server-id:
                type: string
                format: leafref
  '/opnfv-infrastructure:controller/compute/destroy':
    post:
      summary: Invokes destroy in compute
      deprecated: false
      parameters:
        - name: 'destroy:input'
          in: body
          schema: {}
          required: false
      responses:
        '200':
          description: Expected response of destroy
          schema: {}
  '/opnfv-infrastructure:controller/fabric':
    get:
      description: Contains networking related resources
      summary: View detail on fabric
      deprecated: false
      responses:
        '200':
          description: Expected response of fabric
          schema:
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:network-capacity'
    put:
      summary: Update details on fabric
      deprecated: false
      parameters:
        - name: fabric
          in: body
          description: Contains networking related resources
          schema:
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:network-capacity'
          required: false
      responses:
        '200':
          description: Expected response of fabric
          schema:
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:network-capacity'
    patch:
      summary: Merge details on fabric
      deprecated: false
      parameters:
        - name: fabric
          in: body
          description: Contains networking related resources
          schema:
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:network-capacity'
          required: false
      responses:
        '200':
          description: Expected response of fabric
          schema:
            type: object
            properties:
              network:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/nfvi:resource-element'
                    - properties:
                        subnet:
                          type: array
                          items:
                            allOf:
                              - $ref: '#/definitions/nfvi:resource-element'
                              - properties:
                                  nameservers:
                                    type: array
                                    items:
                                      type: string
                                      format: string
                                  dhcp:
                                    type: object
                                    properties:
                                      enabled:
                                        type: boolean
                                        format: boolean
                                      pool:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            start:
                                              type: string
                                              format: 'inet:ip-address'
                                            end:
                                              type: string
                                              format: 'inet:ip-address'
                                  port:
                                    type: array
                                    items:
                                      $ref: '#/definitions/nfvi:resource-element'
              router:
                type: array
                items:
                  $ref: '#/definitions/nfvi:resource-instance'
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:network-capacity'
    delete:
      summary: Delete fabric from controller
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/fabric/network':
    post:
      summary: Creates one or more new network in fabric
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response for creating network(s) in collection
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
    get:
      summary: List all networks from fabric
      deprecated: false
      responses:
        '200':
          description: Expected response of networks
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Replace the entire network collection
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the network collection
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    subnet:
                      type: array
                      items:
                        allOf:
                          - $ref: '#/definitions/nfvi:resource-element'
                          - properties:
                              nameservers:
                                type: array
                                items:
                                  type: string
                                  format: string
                              dhcp:
                                type: object
                                properties:
                                  enabled:
                                    type: boolean
                                    format: boolean
                                  pool:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        start:
                                          type: string
                                          format: 'inet:ip-address'
                                        end:
                                          type: string
                                          format: 'inet:ip-address'
                              port:
                                type: array
                                items:
                                  $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/fabric/network/{network-id}':
    get:
      summary: View detail on network
      deprecated: false
      responses:
        '200':
          description: Expected response of network
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Update details on network
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of network
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
    patch:
      summary: Merge details on network
      deprecated: false
      parameters:
        - name: network
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of network
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  subnet:
                    type: array
                    items:
                      allOf:
                        - $ref: '#/definitions/nfvi:resource-element'
                        - properties:
                            nameservers:
                              type: array
                              items:
                                type: string
                                format: string
                            dhcp:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                                  format: boolean
                                pool:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      start:
                                        type: string
                                        format: 'inet:ip-address'
                                      end:
                                        type: string
                                        format: 'inet:ip-address'
                            port:
                              type: array
                              items:
                                $ref: '#/definitions/nfvi:resource-element'
    delete:
      summary: Delete network from fabric
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet':
    post:
      summary: Creates one or more new subnet in network
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response for creating subnet(s) in collection
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
    get:
      summary: List all subnets from network
      deprecated: false
      responses:
        '200':
          description: Expected response of subnets
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Replace the entire subnet collection
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the subnet collection
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    nameservers:
                      type: array
                      items:
                        type: string
                        format: string
                    dhcp:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                          format: boolean
                        pool:
                          type: array
                          items:
                            type: object
                            properties:
                              start:
                                type: string
                                format: 'inet:ip-address'
                              end:
                                type: string
                                format: 'inet:ip-address'
                    port:
                      type: array
                      items:
                        $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
    parameters:
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}':
    get:
      summary: View detail on subnet
      deprecated: false
      responses:
        '200':
          description: Expected response of subnet
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Update details on subnet
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of subnet
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
    patch:
      summary: Merge details on subnet
      deprecated: false
      parameters:
        - name: subnet
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of subnet
          schema:
            allOf:
              - $ref: '#/definitions/nfvi:resource-element'
              - properties:
                  nameservers:
                    type: array
                    items:
                      type: string
                      format: string
                  dhcp:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        format: boolean
                      pool:
                        type: array
                        items:
                          type: object
                          properties:
                            start:
                              type: string
                              format: 'inet:ip-address'
                            end:
                              type: string
                              format: 'inet:ip-address'
                  port:
                    type: array
                    items:
                      $ref: '#/definitions/nfvi:resource-element'
    delete:
      summary: Delete subnet from network
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/dhcp':
    get:
      summary: View detail on dhcp
      deprecated: false
      responses:
        '200':
          description: Expected response of dhcp
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
    put:
      summary: Update details on dhcp
      deprecated: false
      parameters:
        - name: dhcp
          in: body
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response of dhcp
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
    patch:
      summary: Merge details on dhcp
      deprecated: false
      parameters:
        - name: dhcp
          in: body
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response of dhcp
          schema:
            type: object
            properties:
              enabled:
                type: boolean
                format: boolean
              pool:
                type: array
                items:
                  type: object
                  properties:
                    start:
                      type: string
                      format: 'inet:ip-address'
                    end:
                      type: string
                      format: 'inet:ip-address'
    delete:
      summary: Delete dhcp from subnet
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/dhcp/pool':
    post:
      summary: Creates one or more new pool in dhcp
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response for creating pool(s) in collection
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
    get:
      summary: List all pools from dhcp
      deprecated: false
      responses:
        '200':
          description: Expected response of pools
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
    put:
      summary: Replace the entire pool collection
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the pool collection
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: array
            items:
              type: object
              properties:
                start:
                  type: string
                  format: 'inet:ip-address'
                end:
                  type: string
                  format: 'inet:ip-address'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
    parameters:
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/dhcp/pool/{index}':
    get:
      summary: View detail on pool
      deprecated: false
      responses:
        '200':
          description: Expected response of pool
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
    put:
      summary: Update details on pool
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response of pool
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
    patch:
      summary: Merge details on pool
      deprecated: false
      parameters:
        - name: pool
          in: body
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
          required: false
      responses:
        '200':
          description: Expected response of pool
          schema:
            type: object
            properties:
              start:
                type: string
                format: 'inet:ip-address'
              end:
                type: string
                format: 'inet:ip-address'
    delete:
      summary: Delete pool from dhcp
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: index
        in: path
        required: true
        type: integer
        format: int64
        description: An index key identifying pool item (may change over time)
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/port':
    post:
      summary: Creates one or more new port in subnet
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response for creating port(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
    get:
      summary: List all ports from subnet
      deprecated: false
      responses:
        '200':
          description: Expected response of ports
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Replace the entire port collection
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the port collection
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
    parameters:
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/network/{network-id}/subnet/{subnet-id}/port/{id}':
    get:
      summary: View detail on port
      deprecated: false
      responses:
        '200':
          description: Expected response of port
          schema:
            $ref: '#/definitions/nfvi:resource-element'
    put:
      summary: Update details on port
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of port
          schema:
            $ref: '#/definitions/nfvi:resource-element'
    patch:
      summary: Merge details on port
      deprecated: false
      parameters:
        - name: port
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-element'
          required: false
      responses:
        '200':
          description: Expected response of port
          schema:
            $ref: '#/definitions/nfvi:resource-element'
    delete:
      summary: Delete port from subnet
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying port item
        type: string
        format: unique-identifier
      - name: subnet-id
        in: path
        required: true
        description: A key uniquely identifying subnet item
        type: string
        format: unique-identifier
      - name: network-id
        in: path
        required: true
        description: A key uniquely identifying network item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/fabric/router':
    post:
      summary: Creates one or more new router in fabric
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '200':
          description: Expected response for creating router(s) in collection
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
    get:
      summary: List all routers from fabric
      deprecated: false
      responses:
        '200':
          description: Expected response of routers
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
    put:
      summary: Replace the entire router collection
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the router collection
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            type: array
            items:
              $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/fabric/router/{id}':
    get:
      summary: View detail on router
      deprecated: false
      responses:
        '200':
          description: Expected response of router
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
    put:
      summary: Update details on router
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '200':
          description: Expected response of router
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
    patch:
      summary: Merge details on router
      deprecated: false
      parameters:
        - name: router
          in: body
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
          required: false
      responses:
        '200':
          description: Expected response of router
          schema:
            $ref: '#/definitions/nfvi:resource-instance'
    delete:
      summary: Delete router from fabric
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying router item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/storage':
    get:
      description: Contains storage related resources
      summary: View detail on storage
      deprecated: false
      responses:
        '200':
          description: Expected response of storage
          schema:
            type: object
            properties:
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:storage-capacity'
    put:
      summary: Update details on storage
      deprecated: false
      parameters:
        - name: storage
          in: body
          description: Contains storage related resources
          schema:
            type: object
            properties:
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:storage-capacity'
          required: false
      responses:
        '200':
          description: Expected response of storage
          schema:
            type: object
            properties:
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:storage-capacity'
    patch:
      summary: Merge details on storage
      deprecated: false
      parameters:
        - name: storage
          in: body
          description: Contains storage related resources
          schema:
            type: object
            properties:
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:storage-capacity'
          required: false
      responses:
        '200':
          description: Expected response of storage
          schema:
            type: object
            properties:
              'opnfv-promise:capacity':
                $ref: '#/definitions/promise:storage-capacity'
    delete:
      summary: Delete storage from controller
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/storage/opnfv-promise:capacity':
    get:
      summary: 'View detail on opnfv-promise:capacity'
      deprecated: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:capacity'
          schema:
            $ref: '#/definitions/promise:storage-capacity'
    put:
      summary: 'Update details on opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'opnfv-promise:capacity'
          in: body
          schema:
            $ref: '#/definitions/promise:storage-capacity'
          required: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:capacity'
          schema:
            $ref: '#/definitions/promise:storage-capacity'
    patch:
      summary: 'Merge details on opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'opnfv-promise:capacity'
          in: body
          schema:
            $ref: '#/definitions/promise:storage-capacity'
          required: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:capacity'
          schema:
            $ref: '#/definitions/promise:storage-capacity'
    delete:
      summary: 'Delete opnfv-promise:capacity from storage'
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/opnfv-promise:capacity':
    get:
      description: Describes current state info about capacity utilization info
      summary: 'View detail on opnfv-promise:capacity'
      deprecated: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:capacity'
          schema:
            allOf:
              - $ref: '#/definitions/promise:reservations-list'
              - properties:
                  total:
                    $ref: '#/definitions/promise:resource-capacity'
                  reserved:
                    $ref: '#/definitions/promise:resource-capacity'
                  usage:
                    $ref: '#/definitions/promise:resource-capacity'
                  available:
                    $ref: '#/definitions/promise:resource-capacity'
                  elements:
                    type: array
                    items:
                      description: aggregate reference to all resource-element identifiers
                      type: string
                      format: instance-identifier
    put:
      summary: 'Update details on opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'opnfv-promise:capacity'
          in: body
          description: Describes current state info about capacity utilization info
          schema:
            allOf:
              - $ref: '#/definitions/promise:reservations-list'
              - properties:
                  total:
                    $ref: '#/definitions/promise:resource-capacity'
                  reserved:
                    $ref: '#/definitions/promise:resource-capacity'
                  usage:
                    $ref: '#/definitions/promise:resource-capacity'
                  available:
                    $ref: '#/definitions/promise:resource-capacity'
                  elements:
                    type: array
                    items:
                      description: aggregate reference to all resource-element identifiers
                      type: string
                      format: instance-identifier
          required: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:capacity'
          schema:
            allOf:
              - $ref: '#/definitions/promise:reservations-list'
              - properties:
                  total:
                    $ref: '#/definitions/promise:resource-capacity'
                  reserved:
                    $ref: '#/definitions/promise:resource-capacity'
                  usage:
                    $ref: '#/definitions/promise:resource-capacity'
                  available:
                    $ref: '#/definitions/promise:resource-capacity'
                  elements:
                    type: array
                    items:
                      description: aggregate reference to all resource-element identifiers
                      type: string
                      format: instance-identifier
    patch:
      summary: 'Merge details on opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'opnfv-promise:capacity'
          in: body
          description: Describes current state info about capacity utilization info
          schema:
            allOf:
              - $ref: '#/definitions/promise:reservations-list'
              - properties:
                  total:
                    $ref: '#/definitions/promise:resource-capacity'
                  reserved:
                    $ref: '#/definitions/promise:resource-capacity'
                  usage:
                    $ref: '#/definitions/promise:resource-capacity'
                  available:
                    $ref: '#/definitions/promise:resource-capacity'
                  elements:
                    type: array
                    items:
                      description: aggregate reference to all resource-element identifiers
                      type: string
                      format: instance-identifier
          required: false
      responses:
        '200':
          description: 'Expected response of opnfv-promise:capacity'
          schema:
            allOf:
              - $ref: '#/definitions/promise:reservations-list'
              - properties:
                  total:
                    $ref: '#/definitions/promise:resource-capacity'
                  reserved:
                    $ref: '#/definitions/promise:resource-capacity'
                  usage:
                    $ref: '#/definitions/promise:resource-capacity'
                  available:
                    $ref: '#/definitions/promise:resource-capacity'
                  elements:
                    type: array
                    items:
                      description: aggregate reference to all resource-element identifiers
                      type: string
                      format: instance-identifier
    delete:
      summary: 'Delete opnfv-promise:capacity from controller'
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/total':
    get:
      summary: View detail on total
      deprecated: false
      responses:
        '200':
          description: Expected response of total
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    put:
      summary: Update details on total
      deprecated: false
      parameters:
        - name: total
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of total
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    patch:
      summary: Merge details on total
      deprecated: false
      parameters:
        - name: total
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of total
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    delete:
      summary: 'Delete total from opnfv-promise:capacity'
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/reserved':
    get:
      summary: View detail on reserved
      deprecated: false
      responses:
        '200':
          description: Expected response of reserved
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    put:
      summary: Update details on reserved
      deprecated: false
      parameters:
        - name: reserved
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of reserved
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    patch:
      summary: Merge details on reserved
      deprecated: false
      parameters:
        - name: reserved
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of reserved
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    delete:
      summary: 'Delete reserved from opnfv-promise:capacity'
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/usage':
    get:
      summary: View detail on usage
      deprecated: false
      responses:
        '200':
          description: Expected response of usage
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    put:
      summary: Update details on usage
      deprecated: false
      parameters:
        - name: usage
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of usage
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    patch:
      summary: Merge details on usage
      deprecated: false
      parameters:
        - name: usage
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of usage
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    delete:
      summary: 'Delete usage from opnfv-promise:capacity'
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/available':
    get:
      summary: View detail on available
      deprecated: false
      responses:
        '200':
          description: Expected response of available
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    put:
      summary: Update details on available
      deprecated: false
      parameters:
        - name: available
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of available
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    patch:
      summary: Merge details on available
      deprecated: false
      parameters:
        - name: available
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of available
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    delete:
      summary: 'Delete available from opnfv-promise:capacity'
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/increase':
    post:
      description: Increase total capacity available for reservations between a window in time
      summary: 'Invokes increase in opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'increase:input'
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/promise:time-window'
              - $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of increase
          schema:
            allOf:
              - $ref: '#/definitions/promise:common-action-output'
              - properties:
                  pool-id:
                    type: string
                    format: leafref
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/decrease':
    post:
      description: Decrease total capacity available for reservations between a window in time
      summary: 'Invokes decrease in opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'decrease:input'
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/promise:time-window'
              - $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of decrease
          schema:
            allOf:
              - $ref: '#/definitions/promise:time-window'
              - $ref: '#/definitions/promise:common-action-output'
              - properties:
                  pool-id:
                    type: string
                    format: leafref
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/reserve':
    post:
      description: Make a request to reserve resources
      summary: 'Invokes reserve in opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'reserve:input'
          in: body
          schema:
            $ref: '#/definitions/promise:resource-usage-request'
          required: false
      responses:
        '200':
          description: Expected response of reserve
          schema:
            allOf:
              - $ref: '#/definitions/promise:common-action-output'
              - properties:
                  reservation-id:
                    type: string
                    format: leafref
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/query':
    post:
      description: Check capacity information about a specified resource collection
      summary: 'Invokes query in opnfv-promise:capacity'
      deprecated: false
      parameters:
        - name: 'query:input'
          in: body
          schema:
            allOf:
              - $ref: '#/definitions/promise:query-resource-collection'
              - properties:
                  capacity:
                    default: available
                    type: string
                    format: enumeration
                    enum:
                      - total
                      - reserved
                      - usage
                      - available
                  zone:
                    type: string
                    format: string
          required: false
      responses:
        '200':
          description: Expected response of query
          schema:
            allOf:
              - $ref: '#/definitions/promise:utilization-output'
              - properties:
                  records:
                    type: array
                    items:
                      type: string
                      format: instance-identifier
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/pool':
    post:
      description: Each entry describes available capacity and elements for a given time window
      summary: Creates one or more new pool in reservations-list
      deprecated: false
      parameters:
        - name: pool
          in: body
          description: Each entry describes available capacity and elements for a given time window
          schema:
            type: array
            items:
              description: Each entry describes available capacity and elements for a given time window
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
          required: false
      responses:
        '200':
          description: Expected response for creating pool(s) in collection
          schema:
            type: array
            items:
              description: Each entry describes available capacity and elements for a given time window
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
    get:
      summary: List all pools from reservations-list
      deprecated: false
      responses:
        '200':
          description: Expected response of pools
          schema:
            type: array
            items:
              description: Each entry describes available capacity and elements for a given time window
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
    put:
      summary: Replace the entire pool collection
      deprecated: false
      parameters:
        - name: pool
          in: body
          description: Each entry describes available capacity and elements for a given time window
          schema:
            type: array
            items:
              description: Each entry describes available capacity and elements for a given time window
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the pool collection
      deprecated: false
      parameters:
        - name: pool
          in: body
          description: Each entry describes available capacity and elements for a given time window
          schema:
            type: array
            items:
              description: Each entry describes available capacity and elements for a given time window
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/pool/{id}':
    get:
      description: Each entry describes available capacity and elements for a given time window
      summary: View detail on pool
      deprecated: false
      responses:
        '200':
          description: Expected response of pool
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
    put:
      summary: Update details on pool
      deprecated: false
      parameters:
        - name: pool
          in: body
          description: Each entry describes available capacity and elements for a given time window
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
          required: false
      responses:
        '200':
          description: Expected response of pool
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
    patch:
      summary: Merge details on pool
      deprecated: false
      parameters:
        - name: pool
          in: body
          description: Each entry describes available capacity and elements for a given time window
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
          required: false
      responses:
        '200':
          description: Expected response of pool
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
    delete:
      summary: Delete pool from reservations-list
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying pool item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/pool/{id}/capacity':
    get:
      summary: View detail on capacity
      deprecated: false
      responses:
        '200':
          description: Expected response of capacity
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    put:
      summary: Update details on capacity
      deprecated: false
      parameters:
        - name: capacity
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of capacity
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    patch:
      summary: Merge details on capacity
      deprecated: false
      parameters:
        - name: capacity
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of capacity
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    delete:
      summary: Delete capacity from resource-collection
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying pool item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/reservation':
    post:
      description: |-
        Each entry Describes an accepted resource reservation request, created
        usually as a result of 'reserve' action.

        A ResourceReservation is a derived instance of a generic
        ResourceCollection which has additional parameters to map the
        pool(s) that were referenced to accept this reservation as well
        as to track allocations made referencing this reservation.

        Contains the capacities of various resource attributes being
        reserved along with any resource elements that are needed to be
        available at the time of allocation(s).
      summary: Creates one or more new reservation in reservations-list
      deprecated: false
      parameters:
        - name: reservation
          in: body
          description: |-
            Each entry Describes an accepted resource reservation request, created
            usually as a result of 'reserve' action.

            A ResourceReservation is a derived instance of a generic
            ResourceCollection which has additional parameters to map the
            pool(s) that were referenced to accept this reservation as well
            as to track allocations made referencing this reservation.

            Contains the capacities of various resource attributes being
            reserved along with any resource elements that are needed to be
            available at the time of allocation(s).
          schema:
            type: array
            items:
              description: |-
                Each entry Describes an accepted resource reservation request, created
                usually as a result of 'reserve' action.

                A ResourceReservation is a derived instance of a generic
                ResourceCollection which has additional parameters to map the
                pool(s) that were referenced to accept this reservation as well
                as to track allocations made referencing this reservation.

                Contains the capacities of various resource attributes being
                reserved along with any resource elements that are needed to be
                available at the time of allocation(s).
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
                - properties:
                    remaining:
                      description: |-
                        Provides visibility into total remaining capacity for this
                        reservation based on allocations that took effect utilizing
                        this reservation ID as a reference.
                      $ref: '#/definitions/promise:resource-capacity'
                    pools:
                      type: array
                      items:
                        description: |-
                          Provides list of one or more pools that were referenced for providing
                          the requested resources for this reservation.  This is an
                          important parameter for informing how/where allocation
                          requests can be issued using this reservation since it is
                          likely that the total reserved resource capacity/elements are
                          made availble from multiple sources.
                        type: string
                        format: leafref
                    allocations:
                      type: array
                      items:
                        description: |-
                          Reference to a collection of consumed allocations referencing
                          this reservation.
                        type: string
                        format: leafref
                    created-on:
                      type: string
                      format: 'yang:date-and-time'
                    modified-on:
                      type: string
                      format: 'yang:date-and-time'
          required: false
      responses:
        '200':
          description: Expected response for creating reservation(s) in collection
          schema:
            type: array
            items:
              description: |-
                Each entry Describes an accepted resource reservation request, created
                usually as a result of 'reserve' action.

                A ResourceReservation is a derived instance of a generic
                ResourceCollection which has additional parameters to map the
                pool(s) that were referenced to accept this reservation as well
                as to track allocations made referencing this reservation.

                Contains the capacities of various resource attributes being
                reserved along with any resource elements that are needed to be
                available at the time of allocation(s).
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
                - properties:
                    remaining:
                      description: |-
                        Provides visibility into total remaining capacity for this
                        reservation based on allocations that took effect utilizing
                        this reservation ID as a reference.
                      $ref: '#/definitions/promise:resource-capacity'
                    pools:
                      type: array
                      items:
                        description: |-
                          Provides list of one or more pools that were referenced for providing
                          the requested resources for this reservation.  This is an
                          important parameter for informing how/where allocation
                          requests can be issued using this reservation since it is
                          likely that the total reserved resource capacity/elements are
                          made availble from multiple sources.
                        type: string
                        format: leafref
                    allocations:
                      type: array
                      items:
                        description: |-
                          Reference to a collection of consumed allocations referencing
                          this reservation.
                        type: string
                        format: leafref
                    created-on:
                      type: string
                      format: 'yang:date-and-time'
                    modified-on:
                      type: string
                      format: 'yang:date-and-time'
    get:
      summary: List all reservations from reservations-list
      deprecated: false
      responses:
        '200':
          description: Expected response of reservations
          schema:
            type: array
            items:
              description: |-
                Each entry Describes an accepted resource reservation request, created
                usually as a result of 'reserve' action.

                A ResourceReservation is a derived instance of a generic
                ResourceCollection which has additional parameters to map the
                pool(s) that were referenced to accept this reservation as well
                as to track allocations made referencing this reservation.

                Contains the capacities of various resource attributes being
                reserved along with any resource elements that are needed to be
                available at the time of allocation(s).
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
                - properties:
                    remaining:
                      description: |-
                        Provides visibility into total remaining capacity for this
                        reservation based on allocations that took effect utilizing
                        this reservation ID as a reference.
                      $ref: '#/definitions/promise:resource-capacity'
                    pools:
                      type: array
                      items:
                        description: |-
                          Provides list of one or more pools that were referenced for providing
                          the requested resources for this reservation.  This is an
                          important parameter for informing how/where allocation
                          requests can be issued using this reservation since it is
                          likely that the total reserved resource capacity/elements are
                          made availble from multiple sources.
                        type: string
                        format: leafref
                    allocations:
                      type: array
                      items:
                        description: |-
                          Reference to a collection of consumed allocations referencing
                          this reservation.
                        type: string
                        format: leafref
                    created-on:
                      type: string
                      format: 'yang:date-and-time'
                    modified-on:
                      type: string
                      format: 'yang:date-and-time'
    put:
      summary: Replace the entire reservation collection
      deprecated: false
      parameters:
        - name: reservation
          in: body
          description: |-
            Each entry Describes an accepted resource reservation request, created
            usually as a result of 'reserve' action.

            A ResourceReservation is a derived instance of a generic
            ResourceCollection which has additional parameters to map the
            pool(s) that were referenced to accept this reservation as well
            as to track allocations made referencing this reservation.

            Contains the capacities of various resource attributes being
            reserved along with any resource elements that are needed to be
            available at the time of allocation(s).
          schema:
            type: array
            items:
              description: |-
                Each entry Describes an accepted resource reservation request, created
                usually as a result of 'reserve' action.

                A ResourceReservation is a derived instance of a generic
                ResourceCollection which has additional parameters to map the
                pool(s) that were referenced to accept this reservation as well
                as to track allocations made referencing this reservation.

                Contains the capacities of various resource attributes being
                reserved along with any resource elements that are needed to be
                available at the time of allocation(s).
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
                - properties:
                    remaining:
                      description: |-
                        Provides visibility into total remaining capacity for this
                        reservation based on allocations that took effect utilizing
                        this reservation ID as a reference.
                      $ref: '#/definitions/promise:resource-capacity'
                    pools:
                      type: array
                      items:
                        description: |-
                          Provides list of one or more pools that were referenced for providing
                          the requested resources for this reservation.  This is an
                          important parameter for informing how/where allocation
                          requests can be issued using this reservation since it is
                          likely that the total reserved resource capacity/elements are
                          made availble from multiple sources.
                        type: string
                        format: leafref
                    allocations:
                      type: array
                      items:
                        description: |-
                          Reference to a collection of consumed allocations referencing
                          this reservation.
                        type: string
                        format: leafref
                    created-on:
                      type: string
                      format: 'yang:date-and-time'
                    modified-on:
                      type: string
                      format: 'yang:date-and-time'
          required: false
      responses:
        '201':
          description: Expected response for replacing collection
    patch:
      summary: Merge items into the reservation collection
      deprecated: false
      parameters:
        - name: reservation
          in: body
          description: |-
            Each entry Describes an accepted resource reservation request, created
            usually as a result of 'reserve' action.

            A ResourceReservation is a derived instance of a generic
            ResourceCollection which has additional parameters to map the
            pool(s) that were referenced to accept this reservation as well
            as to track allocations made referencing this reservation.

            Contains the capacities of various resource attributes being
            reserved along with any resource elements that are needed to be
            available at the time of allocation(s).
          schema:
            type: array
            items:
              description: |-
                Each entry Describes an accepted resource reservation request, created
                usually as a result of 'reserve' action.

                A ResourceReservation is a derived instance of a generic
                ResourceCollection which has additional parameters to map the
                pool(s) that were referenced to accept this reservation as well
                as to track allocations made referencing this reservation.

                Contains the capacities of various resource attributes being
                reserved along with any resource elements that are needed to be
                available at the time of allocation(s).
              allOf:
                - $ref: '#/definitions/promise:temporal-resource-element'
                - $ref: '#/definitions/promise:resource-collection'
                - properties:
                    remaining:
                      description: |-
                        Provides visibility into total remaining capacity for this
                        reservation based on allocations that took effect utilizing
                        this reservation ID as a reference.
                      $ref: '#/definitions/promise:resource-capacity'
                    pools:
                      type: array
                      items:
                        description: |-
                          Provides list of one or more pools that were referenced for providing
                          the requested resources for this reservation.  This is an
                          important parameter for informing how/where allocation
                          requests can be issued using this reservation since it is
                          likely that the total reserved resource capacity/elements are
                          made availble from multiple sources.
                        type: string
                        format: leafref
                    allocations:
                      type: array
                      items:
                        description: |-
                          Reference to a collection of consumed allocations referencing
                          this reservation.
                        type: string
                        format: leafref
                    created-on:
                      type: string
                      format: 'yang:date-and-time'
                    modified-on:
                      type: string
                      format: 'yang:date-and-time'
          required: false
      responses:
        '201':
          description: Expected response for merging into collection
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/reservation/{id}':
    get:
      description: |-
        Each entry Describes an accepted resource reservation request, created
        usually as a result of 'reserve' action.

        A ResourceReservation is a derived instance of a generic
        ResourceCollection which has additional parameters to map the
        pool(s) that were referenced to accept this reservation as well
        as to track allocations made referencing this reservation.

        Contains the capacities of various resource attributes being
        reserved along with any resource elements that are needed to be
        available at the time of allocation(s).
      summary: View detail on reservation
      deprecated: false
      responses:
        '200':
          description: Expected response of reservation
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
              - properties:
                  remaining:
                    description: |-
                      Provides visibility into total remaining capacity for this
                      reservation based on allocations that took effect utilizing
                      this reservation ID as a reference.
                    $ref: '#/definitions/promise:resource-capacity'
                  pools:
                    type: array
                    items:
                      description: |-
                        Provides list of one or more pools that were referenced for providing
                        the requested resources for this reservation.  This is an
                        important parameter for informing how/where allocation
                        requests can be issued using this reservation since it is
                        likely that the total reserved resource capacity/elements are
                        made availble from multiple sources.
                      type: string
                      format: leafref
                  allocations:
                    type: array
                    items:
                      description: |-
                        Reference to a collection of consumed allocations referencing
                        this reservation.
                      type: string
                      format: leafref
                  created-on:
                    type: string
                    format: 'yang:date-and-time'
                  modified-on:
                    type: string
                    format: 'yang:date-and-time'
    put:
      summary: Update details on reservation
      deprecated: false
      parameters:
        - name: reservation
          in: body
          description: |-
            Each entry Describes an accepted resource reservation request, created
            usually as a result of 'reserve' action.

            A ResourceReservation is a derived instance of a generic
            ResourceCollection which has additional parameters to map the
            pool(s) that were referenced to accept this reservation as well
            as to track allocations made referencing this reservation.

            Contains the capacities of various resource attributes being
            reserved along with any resource elements that are needed to be
            available at the time of allocation(s).
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
              - properties:
                  remaining:
                    description: |-
                      Provides visibility into total remaining capacity for this
                      reservation based on allocations that took effect utilizing
                      this reservation ID as a reference.
                    $ref: '#/definitions/promise:resource-capacity'
                  pools:
                    type: array
                    items:
                      description: |-
                        Provides list of one or more pools that were referenced for providing
                        the requested resources for this reservation.  This is an
                        important parameter for informing how/where allocation
                        requests can be issued using this reservation since it is
                        likely that the total reserved resource capacity/elements are
                        made availble from multiple sources.
                      type: string
                      format: leafref
                  allocations:
                    type: array
                    items:
                      description: |-
                        Reference to a collection of consumed allocations referencing
                        this reservation.
                      type: string
                      format: leafref
                  created-on:
                    type: string
                    format: 'yang:date-and-time'
                  modified-on:
                    type: string
                    format: 'yang:date-and-time'
          required: false
      responses:
        '200':
          description: Expected response of reservation
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
              - properties:
                  remaining:
                    description: |-
                      Provides visibility into total remaining capacity for this
                      reservation based on allocations that took effect utilizing
                      this reservation ID as a reference.
                    $ref: '#/definitions/promise:resource-capacity'
                  pools:
                    type: array
                    items:
                      description: |-
                        Provides list of one or more pools that were referenced for providing
                        the requested resources for this reservation.  This is an
                        important parameter for informing how/where allocation
                        requests can be issued using this reservation since it is
                        likely that the total reserved resource capacity/elements are
                        made availble from multiple sources.
                      type: string
                      format: leafref
                  allocations:
                    type: array
                    items:
                      description: |-
                        Reference to a collection of consumed allocations referencing
                        this reservation.
                      type: string
                      format: leafref
                  created-on:
                    type: string
                    format: 'yang:date-and-time'
                  modified-on:
                    type: string
                    format: 'yang:date-and-time'
    patch:
      summary: Merge details on reservation
      deprecated: false
      parameters:
        - name: reservation
          in: body
          description: |-
            Each entry Describes an accepted resource reservation request, created
            usually as a result of 'reserve' action.

            A ResourceReservation is a derived instance of a generic
            ResourceCollection which has additional parameters to map the
            pool(s) that were referenced to accept this reservation as well
            as to track allocations made referencing this reservation.

            Contains the capacities of various resource attributes being
            reserved along with any resource elements that are needed to be
            available at the time of allocation(s).
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
              - properties:
                  remaining:
                    description: |-
                      Provides visibility into total remaining capacity for this
                      reservation based on allocations that took effect utilizing
                      this reservation ID as a reference.
                    $ref: '#/definitions/promise:resource-capacity'
                  pools:
                    type: array
                    items:
                      description: |-
                        Provides list of one or more pools that were referenced for providing
                        the requested resources for this reservation.  This is an
                        important parameter for informing how/where allocation
                        requests can be issued using this reservation since it is
                        likely that the total reserved resource capacity/elements are
                        made availble from multiple sources.
                      type: string
                      format: leafref
                  allocations:
                    type: array
                    items:
                      description: |-
                        Reference to a collection of consumed allocations referencing
                        this reservation.
                      type: string
                      format: leafref
                  created-on:
                    type: string
                    format: 'yang:date-and-time'
                  modified-on:
                    type: string
                    format: 'yang:date-and-time'
          required: false
      responses:
        '200':
          description: Expected response of reservation
          schema:
            allOf:
              - $ref: '#/definitions/promise:temporal-resource-element'
              - $ref: '#/definitions/promise:resource-collection'
              - properties:
                  remaining:
                    description: |-
                      Provides visibility into total remaining capacity for this
                      reservation based on allocations that took effect utilizing
                      this reservation ID as a reference.
                    $ref: '#/definitions/promise:resource-capacity'
                  pools:
                    type: array
                    items:
                      description: |-
                        Provides list of one or more pools that were referenced for providing
                        the requested resources for this reservation.  This is an
                        important parameter for informing how/where allocation
                        requests can be issued using this reservation since it is
                        likely that the total reserved resource capacity/elements are
                        made availble from multiple sources.
                      type: string
                      format: leafref
                  allocations:
                    type: array
                    items:
                      description: |-
                        Reference to a collection of consumed allocations referencing
                        this reservation.
                      type: string
                      format: leafref
                  created-on:
                    type: string
                    format: 'yang:date-and-time'
                  modified-on:
                    type: string
                    format: 'yang:date-and-time'
    delete:
      summary: Delete reservation from reservations-list
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying reservation item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/reservation/{id}/remaining':
    get:
      description: |-
        Provides visibility into total remaining capacity for this
        reservation based on allocations that took effect utilizing
        this reservation ID as a reference.
      summary: View detail on remaining
      deprecated: false
      responses:
        '200':
          description: Expected response of remaining
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    put:
      summary: Update details on remaining
      deprecated: false
      parameters:
        - name: remaining
          in: body
          description: |-
            Provides visibility into total remaining capacity for this
            reservation based on allocations that took effect utilizing
            this reservation ID as a reference.
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of remaining
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    patch:
      summary: Merge details on remaining
      deprecated: false
      parameters:
        - name: remaining
          in: body
          description: |-
            Provides visibility into total remaining capacity for this
            reservation based on allocations that took effect utilizing
            this reservation ID as a reference.
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of remaining
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    delete:
      summary: Delete remaining from reservation
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying reservation item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/reservation/{id}/capacity':
    get:
      summary: View detail on capacity
      deprecated: false
      responses:
        '200':
          description: Expected response of capacity
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    put:
      summary: Update details on capacity
      deprecated: false
      parameters:
        - name: capacity
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of capacity
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    patch:
      summary: Merge details on capacity
      deprecated: false
      parameters:
        - name: capacity
          in: body
          schema:
            $ref: '#/definitions/promise:resource-capacity'
          required: false
      responses:
        '200':
          description: Expected response of capacity
          schema:
            $ref: '#/definitions/promise:resource-capacity'
    delete:
      summary: Delete capacity from resource-collection
      deprecated: false
      responses:
        '204':
          description: Expected response for delete
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying reservation item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/reservation/{id}/validate':
    post:
      summary: Invokes validate in reservation
      deprecated: false
      parameters:
        - name: 'validate:input'
          in: body
          schema: {}
          required: false
      responses:
        '200':
          description: Expected response of validate
          schema: {}
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying reservation item
        type: string
        format: unique-identifier
  '/opnfv-infrastructure:controller/opnfv-promise:capacity/reservation/{id}/update':
    post:
      description: Update reservation details for an existing reservation
      summary: Invokes update in reservation
      deprecated: false
      parameters:
        - name: 'update:input'
          in: body
          schema:
            $ref: '#/definitions/promise:resource-usage-request'
          required: false
      responses:
        '200':
          description: Expected response of update
          schema:
            $ref: '#/definitions/promise:common-action-output'
    parameters:
      - name: id
        in: path
        required: true
        description: A key uniquely identifying reservation item
        type: string
        format: unique-identifier
definitions:
  'nfvi:compute-host':
    allOf:
      - $ref: '#/definitions/nfvi:resource-element'
      - properties:
          type:
            type: string
            format: string
          version:
            type: string
            format: string
          cpu:
            type: integer
            format: byte
          workload:
            default: '0'
            type: integer
            format: byte
          uptime:
            type: string
            format: string
          ram:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
          disk:
            type: object
            properties:
              total:
                type: integer
                format: uint32
              used:
                type: integer
                format: uint32
              free:
                type: integer
                format: uint32
          hypervisor:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/nfvi:resource-element'
                - properties:
                    vcpu:
                      type: object
                      properties:
                        total:
                          type: integer
                          format: uint16
                        used:
                          type: integer
                          format: uint16
                        free:
                          type: integer
                          format: uint16
                    servers:
                      type: array
                      items:
                        type: string
                        format: leafref
  'nfvi:resource-element':
    type: object
    required:
      - id
    properties:
      id:
        type: string
        format: unique-identifier
      name:
        type: string
        format: string
      description:
        type: string
        format: 'meta:description'
      enabled:
        default: 'true'
        type: boolean
        format: boolean
      protected:
        default: 'false'
        type: boolean
        format: boolean
      owner:
        type: string
        format: instance-identifier
      visibility:
        description: Specify visibility level available from the perspective of 'owner'
        default: user
        type: string
        format: enumeration
        enum:
          - public
          - domain
          - project
          - group
          - user
      tags:
        type: array
        items:
          type: string
          format: string
      members:
        type: array
        items:
          description: Optionally share with other identified entities
          type: string
          format: instance-identifier
  'nfvi:virtual-server':
    allOf:
      - $ref: '#/definitions/nfvi:resource-instance'
      - properties:
          flavor:
            type: string
            format: leafref
          image:
            type: string
            format: leafref
          host:
            type: string
            format: leafref
          metadata:
            type: string
            format: binary
  'nfvi:resource-instance':
    allOf:
      - $ref: '#/definitions/nfvi:resource-element'
      - properties:
          status:
            type: string
            format: enumeration
            enum:
              - active
              - inactive
              - pending
          progress:
            default: '0'
            type: integer
            format: byte
  'nfvi:server-image':
    allOf:
      - $ref: '#/definitions/nfvi:resource-element'
      - required:
          - checksum
          - size
          - content
        properties:
          checksum:
            type: string
            format: string
          size:
            type: integer
            format: uint32
          content:
            description: should be a 'private' property so only direct access retrieves content
            type: string
            format: union
          format:
            type: object
            properties:
              container:
                default: bare
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - bare
                  - ovf
              disk:
                default: raw
                type: string
                format: enumeration
                enum:
                  - ami
                  - ari
                  - aki
                  - vhd
                  - vmdk
                  - raw
                  - qcow2
                  - vdi
                  - iso
          constraint:
            type: object
            properties:
              disk:
                default: '0'
                type: integer
                format: uint32
              ram:
                default: '0'
                type: integer
                format: uint32
              vcpu:
                default: '0'
                type: integer
                format: uint16
  'nfvi:resource-flavor':
    allOf:
      - $ref: '#/definitions/nfvi:resource-element'
      - properties:
          disk:
            default: '0'
            type: integer
            format: uint32
          ram:
            default: '0'
            type: integer
            format: uint32
          vcpus:
            default: '0'
            type: integer
            format: uint16
  'promise:compute-capacity':
    type: object
    properties:
      cores:
        default: '0'
        type: integer
        format: int16
      ram:
        default: '0'
        type: integer
        format: int32
      instances:
        default: '0'
        type: integer
        format: int16
  'promise:network-capacity':
    type: object
    properties:
      networks:
        default: '0'
        type: integer
        format: int16
      ports:
        default: '0'
        type: integer
        format: int16
      routers:
        default: '0'
        type: integer
        format: int16
      subnets:
        default: '0'
        type: integer
        format: int16
      addresses:
        default: '0'
        type: integer
        format: int32
  'promise:storage-capacity':
    type: object
    properties:
      gigabytes:
        default: '0'
        type: integer
        format: int32
      snapshots:
        default: '0'
        type: integer
        format: int16
      volumes:
        default: '0'
        type: integer
        format: int16
  'promise:resource-capacity':
    allOf:
      - $ref: '#/definitions/promise:compute-capacity'
      - $ref: '#/definitions/promise:network-capacity'
      - $ref: '#/definitions/promise:storage-capacity'
  'promise:reservations-list':
    type: object
    properties:
      pool:
        type: array
        items:
          description: Each entry describes available capacity and elements for a given time window
          allOf:
            - $ref: '#/definitions/promise:temporal-resource-element'
            - $ref: '#/definitions/promise:resource-collection'
      reservation:
        type: array
        items:
          description: |-
            Each entry Describes an accepted resource reservation request, created
            usually as a result of 'reserve' action.

            A ResourceReservation is a derived instance of a generic
            ResourceCollection which has additional parameters to map the
            pool(s) that were referenced to accept this reservation as well
            as to track allocations made referencing this reservation.

            Contains the capacities of various resource attributes being
            reserved along with any resource elements that are needed to be
            available at the time of allocation(s).
          allOf:
            - $ref: '#/definitions/promise:temporal-resource-element'
            - $ref: '#/definitions/promise:resource-collection'
            - properties:
                remaining:
                  description: |-
                    Provides visibility into total remaining capacity for this
                    reservation based on allocations that took effect utilizing
                    this reservation ID as a reference.
                  $ref: '#/definitions/promise:resource-capacity'
                pools:
                  type: array
                  items:
                    description: |-
                      Provides list of one or more pools that were referenced for providing
                      the requested resources for this reservation.  This is an
                      important parameter for informing how/where allocation
                      requests can be issued using this reservation since it is
                      likely that the total reserved resource capacity/elements are
                      made availble from multiple sources.
                    type: string
                    format: leafref
                allocations:
                  type: array
                  items:
                    description: |-
                      Reference to a collection of consumed allocations referencing
                      this reservation.
                    type: string
                    format: leafref
                created-on:
                  type: string
                  format: 'yang:date-and-time'
                modified-on:
                  type: string
                  format: 'yang:date-and-time'
  'promise:temporal-resource-element':
    allOf:
      - $ref: '#/definitions/nfvi:resource-element'
      - $ref: '#/definitions/promise:time-window'
      - properties:
          active:
            description: |-
              Provides current state of this element whether it is enabled and
              within specified start/end time
            type: boolean
            format: boolean
  'promise:time-window':
    type: object
    properties:
      start:
        type: string
        format: 'yang:date-and-time'
      end:
        type: string
        format: 'yang:date-and-time'
  'promise:resource-collection':
    type: object
    properties:
      capacity:
        $ref: '#/definitions/promise:resource-capacity'
      elements:
        type: array
        items:
          type: string
          format: instance-identifier
  'promise:common-action-output':
    type: object
    properties:
      result:
        type: string
        format: enumeration
        enum:
          - ok
          - conflict
          - error
      message:
        type: string
        format: string
  'promise:resource-usage-request':
    allOf:
      - $ref: '#/definitions/promise:time-window'
      - properties:
          zone:
            description: Optional identifier to an Availability Zone
            type: string
            format: instance-identifier
      - properties:
          instance:
            type: array
            items:
              type: object
              required:
                - count
              properties:
                flavor:
                  type: string
                  format: leafref
                count:
                  type: integer
                  format: uint16
        type: object
  'promise:query-resource-collection':
    type: object
    properties:
      window:
        description: Matches entries that are within the specified start/end time window
        type: object
        properties:
          start:
            type: string
            format: 'yang:date-and-time'
          end:
            type: string
            format: 'yang:date-and-time'
          scope:
            default: inclusive
            type: string
            format: enumeration
            enum:
              - exclusive
              - inclusive
      elements:
        type: object
        properties:
          some:
            type: array
            items:
              description: Query for ResourceCollection(s) that contain some or more of these element(s)
              type: string
              format: instance-identifier
          every:
            type: array
            items:
              description: Query for ResourceCollection(s) that contain all of these element(s)
              type: string
              format: instance-identifier
      without:
        type: array
        items:
          description: Excludes specified collection identifiers from the result
          type: string
          format: instance-identifier
      show-utilization:
        default: 'true'
        type: boolean
        format: boolean
  'promise:utilization-output':
    type: object
    properties:
      utilization:
        type: array
        items:
          type: object
          properties:
            timestamp:
              type: string
              format: 'yang:date-and-time'
            count:
              type: integer
              format: int16
            capacity:
              $ref: '#/definitions/promise:resource-capacity'
